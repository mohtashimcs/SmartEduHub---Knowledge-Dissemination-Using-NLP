import{t as aa,c as ra,r,j as e,$ as Ms,a as Os,b as Vs,d as zs,X as ie,e as _s,f as Hs,g as je,h as la,O as ms,i as oa,k as xs,l as na,m as qs,u as ia,n as ca,o as da,p as ye,H as Pe,E as ns,q as is,L as H,s as ua,v as A,w as $,x as M,y as O,N as ma,z as xa,A as ge,B as $e,C as oe,D as cs,F as J,G as ds,I as ps,S as fs,J as Fs,K as Is,M as $s,P as Gs,Q as Ks,R as Ws,T as Ys,U as pa,V as fa,W as ha,Y as ga,Z as Qs,_ as Te,a0 as Le,a1 as Js,a2 as Ae,a3 as Ue,a4 as Zs,a5 as Xs,a6 as et,a7 as ba,a8 as Be,a9 as ue,aa as be,ab as ja,ac as ya,ad as va,ae as Na,af as st,ag as wa,ah as Ps,ai as ve,aj as ka,ak as tt,al as Ca,am as Sa,an as Ea,ao as Da,ap as Ra,aq as Fa,ar as Ia,as as at,at as rt,au as Ne,av as hs,aw as we,ax as gs,ay as lt,az as $a,aA as ot,aB as Pa,aC as nt,aD as it,aE as ct,aF as dt,aG as Ta,aH as ut,aI as mt,aJ as xt,aK as pt,aL as La,aM as Aa,aN as ft,aO as ht,aP as Ua,aQ as Ba,aR as Ma,aS as Oa,aT as ee,aU as Va,aV as gt,aW as bt,aX as za,aY as _a,aZ as Ha,a_ as jt,a$ as _,b0 as qa,b1 as Ga,b2 as Ka,b3 as Wa,b4 as Ya,b5 as Qa,b6 as as,b7 as Ts,b8 as Ja,b9 as Za,ba as Xa,bb as er,bc as sr,bd as tr,be as ar,bf as rr,bg as lr,bh as or,bi as Z}from"./vendors-CZlB9wKK.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function a(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(l){if(l.ep)return;l.ep=!0;const d=a(l);fetch(l.href,d)}})();function b(...s){return aa(ra(s))}const nr=la,yt=r.forwardRef(({className:s,...t},a)=>e.jsx(Ms,{ref:a,className:b("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));yt.displayName=Ms.displayName;const ir=je("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border border-slate-200 p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-slate-800",{variants:{variant:{default:"border bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",destructive:"destructive group border-red-500 bg-red-500 text-slate-50 dark:border-red-900 dark:bg-red-900 dark:text-slate-50"}},defaultVariants:{variant:"default"}}),vt=r.forwardRef(({className:s,variant:t,...a},o)=>e.jsx(Os,{ref:o,className:b(ir({variant:t}),s),...a}));vt.displayName=Os.displayName;const cr=r.forwardRef(({className:s,...t},a)=>e.jsx(Vs,{ref:a,className:b("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-slate-200 bg-transparent px-3 text-sm font-medium ring-offset-white transition-colors hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-slate-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-slate-50 group-[.destructive]:focus:ring-red-500 dark:border-slate-800 dark:ring-offset-slate-950 dark:hover:bg-slate-800 dark:focus:ring-slate-300 dark:group-[.destructive]:border-slate-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-slate-50 dark:group-[.destructive]:focus:ring-red-900",s),...t}));cr.displayName=Vs.displayName;const Nt=r.forwardRef(({className:s,...t},a)=>e.jsx(zs,{ref:a,className:b("absolute right-2 top-2 rounded-md p-1 text-slate-950/50 opacity-0 transition-opacity hover:text-slate-950 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-slate-50/50 dark:hover:text-slate-50",s),"toast-close":"",...t,children:e.jsx(ie,{className:"h-4 w-4"})}));Nt.displayName=zs.displayName;const wt=r.forwardRef(({className:s,...t},a)=>e.jsx(_s,{ref:a,className:b("text-sm font-semibold",s),...t}));wt.displayName=_s.displayName;const kt=r.forwardRef(({className:s,...t},a)=>e.jsx(Hs,{ref:a,className:b("text-sm opacity-90",s),...t}));kt.displayName=Hs.displayName;const dr=1,ur=1e6;let rs=0;function mr(){return rs=(rs+1)%Number.MAX_SAFE_INTEGER,rs.toString()}const ls=new Map,Ls=s=>{if(ls.has(s))return;const t=setTimeout(()=>{ls.delete(s),pe({type:"REMOVE_TOAST",toastId:s})},ur);ls.set(s,t)},xr=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,dr)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=t;return a?Ls(a):s.toasts.forEach(o=>{Ls(o.id)}),{...s,toasts:s.toasts.map(o=>o.id===a||a===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(a=>a.id!==t.toastId)}}},Ee=[];let De={toasts:[]};function pe(s){De=xr(De,s),Ee.forEach(t=>{t(De)})}function T({...s}){const t=mr(),a=l=>pe({type:"UPDATE_TOAST",toast:{...l,id:t}}),o=()=>pe({type:"DISMISS_TOAST",toastId:t});return pe({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:l=>{l||o()}}}),{id:t,dismiss:o,update:a}}function pr(){const[s,t]=r.useState(De);return r.useEffect(()=>(Ee.push(t),()=>{const a=Ee.indexOf(t);a>-1&&Ee.splice(a,1)}),[s]),{...s,toast:T,dismiss:a=>pe({type:"DISMISS_TOAST",toastId:a})}}function fr(){const{toasts:s}=pr();return e.jsxs(nr,{children:[s.map(function({id:t,title:a,description:o,action:l,...d}){return e.jsxs(vt,{...d,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(wt,{children:a}),o&&e.jsx(kt,{children:o})]}),l,e.jsx(Nt,{})]},t)}),e.jsx(yt,{})]})}function hr(){return e.jsxs(e.Fragment,{children:[e.jsx(fr,{}),e.jsx(ms,{})]})}const bs="/wah_university.jpg",gr={apiKey:"AIzaSyCuP6TVBHfYj9AKoXHWLKZMh39z3xVmtZk",authDomain:"test-29183.firebaseapp.com",projectId:"test-29183",storageBucket:"test-29183.appspot.com",messagingSenderId:"469726426845",appId:"1:469726426845:web:76f3fd01b952be6cc60d34"},js=oa(gr),Me=xs(js),S=na(js),Oe=qs(js),Ve=ia.withTypes(),B=ca.withTypes(),br={picture:localStorage.getItem("PicUrl"),name:localStorage.getItem("userName"),category:localStorage.getItem("category"),userId:localStorage.getItem("uid")},Ct=da({name:"profile",initialState:br,reducers:{updatePic:(s,t)=>{s.picture=t.payload},updateName:(s,t)=>{s.name=t.payload},updateCategory:(s,t)=>{s.category=t.payload},updateUserId:(s,t)=>{s.userId=t.payload},deleteData:s=>{s.userId="",s.name="",s.picture="",s.category="",s.userId=""}}}),{updatePic:ys,updateName:vs,updateCategory:Ns,updateUserId:St,deleteData:jr}=Ct.actions,yr=Ct.reducer;function vr(){const s=ye(),[t,a]=r.useState(""),[o,l]=r.useState(""),[d,u]=r.useState(!1),[f,v]=r.useState(!0),i=Ve(),y=c=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c),m=c=>{const h=c.target.value;a(h),v(y(h))},N=async c=>{try{const h=A($(S,"users"),M("uid","==",c)),p=await O(h);if(p.empty)return console.error("User document not found in Firestore"),null;{const g=p.docs[0].data(),D=g.ProfilePic,P=g.userName,E=g.category;return localStorage.setItem("category",E),localStorage.setItem("userName",P),localStorage.setItem("PicUrl",D),i(vs(P)),i(Ns(E)),i(ys(D)),g}}catch(h){return console.error("Error fetching user data from Firestore:",h),null}},w=async c=>{c.preventDefault();try{u(!0);const p=(await ua(Me,t,o)).user;p.uid&&(await N(p.uid),i(St(p.uid))),localStorage.setItem("uid",p.uid),localStorage.setItem("token",JSON.stringify(p.getIdToken)),localStorage.setItem("user",JSON.stringify(p)),s("/"),u(!1)}catch(h){console.log(h),u(!1),T({variant:"destructive",description:h.message})}},[x,j]=r.useState(!1),n=()=>{j(!x)};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"bg-transparent min-h-screen flex flex-col items-center justify-center bg-[#dfe3ee]",children:[e.jsxs("div",{className:"lg:flex pb-4 poppins-black md:block",children:[e.jsx("h1",{className:"text-sky-500 text-6xl",children:"Smart"}),e.jsx("h1",{className:"text-black text-6xl",children:"EduHub"})]}),d?e.jsx("div",{className:"fixed inset-0 flex justify-center items-center bg-[rgba(255,255,255,0.8)]",children:e.jsx(Pe,{color:"#36d7b7"})}):e.jsxs("div",{className:"bg-gray-100 flex rounded-3xl shadow-2xl max-w-3xl p-5 items-center poppins-regular",children:[e.jsxs("div",{className:"md:w-1/2 px-8 md:px-16",children:[e.jsx("h2",{className:"font-bold text-2xl text-[#002D74]",children:"Login"}),e.jsx("p",{className:"text-xs mt-4 text-[#002D74]",children:"Welcome back! Let's dive in and explore what's new."}),e.jsxs("form",{onSubmit:w,className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"relative mt-6",children:[!f&&e.jsx("div",{className:"text-red-500 mb-2",children:"Please enter a valid email."}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",className:`w-64 pl-10 pr-4 py-2 rounded-xl border shadow-lg text-black dark:bg-gray-50 ${f?"":"border-red-500"}`,placeholder:"Enter your email",required:!0,value:t,onChange:m}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 text-gray-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:x?"text":"password",className:"w-64 pl-10 pr-10 py-2 rounded-xl border shadow-lg text-black dark:bg-gray-50",placeholder:"Password",required:!0,value:o,onChange:c=>l(c.target.value)}),e.jsx("button",{type:"button",onClick:n,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:x?e.jsx(ns,{className:"w-6 h-6 text-gray-600"}):e.jsx(is,{className:"w-6 h-6 text-gray-600"})}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 text-gray-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})})})]}),e.jsx("button",{className:"bg-[#002D74] poppins-semibold rounded-xl text-white py-2 hover:scale-105 duration-300",children:"Login"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 items-center text-gray-400",children:[e.jsx("hr",{className:"border-gray-400"}),e.jsx("p",{className:"text-center text-sm",children:"OR"}),e.jsx("hr",{className:"border-gray-400"})]}),e.jsx("div",{className:"mt-2 text-xs border-b border-[#002D74] py-3 text-[#002D74] text-center",children:e.jsx(H,{to:"/forgotPassword",children:e.jsx("p",{children:"Forgot your password?"})})}),e.jsxs("div",{className:"mt-3 text-xs flex justify-between items-center text-[#002D74]",children:[e.jsx("p",{children:"Don't have an account?"}),e.jsx(H,{to:"/signup",children:e.jsx("button",{className:"py-2 px-6 bg-sky-300 poppins-semibold border rounded-xl hover:scale-110 duration-300",children:"Register"})})]})]}),e.jsx("div",{className:"md:block hidden w-1/2",children:e.jsx("img",{className:"rounded-2xl",src:bs,alt:"Image Load Error"})})]})]})})}const Nr=()=>localStorage.getItem("token")?e.jsx(ms,{}):e.jsx(ma,{to:"/login"}),wr=()=>{const s=ye(),[t,a]=r.useState(""),o=async l=>{l.preventDefault(),xa(Me,t).then(()=>{alert("A password reset link has been sent to your email. Please, Check your mail"),s("/login")}).catch(d=>{alert(d.code)})};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"bg-transparent min-h-screen flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"flex pb-4",children:[e.jsx("h1",{className:"font-sans font-semibold text-sky-500 text-6xl",children:"Smart"}),e.jsx("h1",{className:"font-sans font-semibold text-black text-6xl",children:"EduHub"})]}),e.jsxs("div",{className:"bg-gray-100 flex rounded-3xl shadow-2xl max-w-3xl p-5 items-center",children:[e.jsxs("div",{className:"md:w-1/2 px-8 md:px-16",children:[e.jsx("h2",{className:"font-bold text-2xl text-[#002D74]",children:"Reset Password"}),e.jsx("p",{className:"text-xs mt-4 text-[#002D74]",children:"Forgot your password? No worries, a fresh start is just a click away!"}),e.jsxs("form",{onSubmit:o,className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"relative mt-2 mb-2",children:[e.jsx("input",{required:!0,id:"Email",type:"email",className:"w-60 pl-10 pr-4 py-2 rounded-xl border-2 shadow-lg text-black dark:bg-gray-50",placeholder:"Your Email",value:t,onChange:l=>a(l.target.value)}),e.jsx("div",{className:`absolute inset-y-0 left-0 pl-3  \r
                flex items-center  \r
                pointer-events-none`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 text-gray-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})})]}),e.jsx("button",{type:"submit",className:"bg-[#002D74] rounded-xl text-white py-2 hover:scale-105 duration-300",children:"Reset"})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 items-center text-gray-400",children:[e.jsx("hr",{className:"border-gray-400"}),e.jsx("p",{className:"text-center text-sm",children:"OR"}),e.jsx("hr",{className:"border-gray-400"})]}),e.jsxs("div",{className:"mt-2 text-xs flex justify-between items-center text-[#002D74]",children:[e.jsx("p",{children:"Have an account?"}),e.jsx(H,{to:"/login",children:e.jsx("button",{className:"py-2 px-5 bg-sky-300 font-semibold border rounded-xl hover:scale-110 duration-300",children:"Sign in"})})]}),e.jsxs("div",{className:"mt-2 text-xs flex justify-between items-center text-[#002D74]",children:[e.jsx("p",{children:"Don't have an account?"}),e.jsx(H,{to:"/signup",children:e.jsx("button",{className:"py-2 px-5 bg-sky-300 font-semibold border rounded-xl hover:scale-110 duration-300",children:"Sign up"})})]})]}),e.jsx("div",{className:"md:block hidden w-1/2",children:e.jsx("img",{className:"rounded-2xl",src:bs})})]})]})})},ze=r.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:b("rounded-lg border border-slate-200 bg-white text-slate-950 shadow-sm dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",s),...t}));ze.displayName="Card";const _e=r.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:b("flex flex-col space-y-1.5 p-6",s),...t}));_e.displayName="CardHeader";const He=r.forwardRef(({className:s,...t},a)=>e.jsx("h3",{ref:a,className:b("text-2xl font-semibold leading-none tracking-tight",s),...t}));He.displayName="CardTitle";const kr=r.forwardRef(({className:s,...t},a)=>e.jsx("p",{ref:a,className:b("text-sm text-slate-500 dark:text-slate-400",s),...t}));kr.displayName="CardDescription";const qe=r.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:b("p-6 pt-0",s),...t}));qe.displayName="CardContent";const Ge=r.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:b("flex items-center p-6 pt-0",s),...t}));Ge.displayName="CardFooter";const Cr="/like_sound.m4a",ws=s=>{s.style.height="inherit",s.style.height=`${s.scrollHeight}px`},Sr=async s=>await(await fetch("https://api-inference.huggingface.co/models/cardiffnlp/twitter-roberta-base-sentiment-latest",{headers:{Authorization:"Bearer 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"},method:"POST",body:JSON.stringify(s)})).json(),Er=(s,t)=>{const[a,o]=r.useState(!1),[l,d]=r.useState(!1),u=async()=>{if(!a){o(!0);try{const f=oe(S,"posts",s),v=await cs(f);if(!v.exists()){console.error("Post does not exist");return}const i=v.data();i.likesBy&&i.likesBy.includes(t)?(As(),await J(f,{likes:ds(-1),likesBy:i.likesBy.filter(y=>y!==t)}),d(!1)):(As(),await J(f,{likes:ds(1),likesBy:[...i.likesBy||[],t]}),d(!0))}catch(f){console.error("Error liking post:",f)}finally{o(!1)}}};return r.useEffect(()=>{(async()=>{var y;const v=oe(S,"posts",s),i=await cs(v);if(i.exists()){const m=i.data();d((y=m.likesBy)==null?void 0:y.includes(t))}})()},[s,t]),{isLiking:a,isLiked:l,handleLike:u}};function As(){new Audio(Cr).play()}const Dr=(s,t)=>{const a=localStorage.getItem("uid"),o=B(m=>m.profile.category),[l,d]=r.useState(!1),[u,f]=r.useState([]),[v,i]=r.useState(!1),y=()=>{if(!a){d(!1),i(!1);return}if(a&&o){d(!0),i(!1);let m;if(s?m=A($(S,"posts"),M("category","==",o),ge("createdAt","desc")):(console.log("fetchAll"),m=A($(S,"posts"),M("userId","==",t),ge("createdAt","desc"))),s){const N=$e(m,w=>{const x=w.docs.map(j=>({id:j.id,...j.data()})).filter(j=>j.userId!=a);f(x),i(x.length>0),d(!1)},w=>{console.error("Error fetching posts:",w),d(!1)});return()=>N()}else{const N=$e(m,w=>{const x=w.docs.map(j=>({id:j.id,...j.data()}));f(x),i(x.length>0),d(!1)},w=>{console.error("Error fetching posts:",w),d(!1)});return()=>N()}}};return r.useEffect(()=>{setTimeout(()=>{y()},200)},[S,a,o,s,t]),{loading:l,posts:u,hasPost:v,fetchPost:y}},Rr=({HandleData:s,Prompt:t})=>{const[a,o]=r.useState(null),[l,d]=r.useState(""),[u,f]=r.useState(!1),v=c=>{c.target.files&&c.target.files.length===1&&o(c.target.files[0])},i=()=>{o(null)},[y,m]=r.useState([]),N=(c,h)=>{m(p=>[...p,{text:c,handler:h}])};async function w(c){return{inlineData:{data:await new Promise(p=>{const g=new FileReader;g.onloadend=()=>{const D=g.result;p(D.split(",")[1])},g.readAsDataURL(c)}),mimeType:c.type}}}const x=async(c,h)=>{if(console.log("FileParameter",h),!h){console.error("No file selected.");return}const p=new $s("AIzaSyChN0_mxAWZz19K4jVyALJaOvS_CYbxWeY");try{f(!0),t(!0);const g=p.getGenerativeModel({model:"gemini-pro-vision"}),D=c,P=await w(h),K=await(await(await g.generateContent([D,P])).response).text();console.log(K),N(c,"user"),N(K,"model");const W=K.includes("```");s(K,!0,W,!0),t(!1),f(!1)}catch{t(!1),f(!1),s("Sorry, I couldn't understand that.",!0,!1,!0)}finally{f(!1)}},j=async c=>{f(!0);const h=new $s("AIzaSyChN0_mxAWZz19K4jVyALJaOvS_CYbxWeY"),p={stopSequences:["red"],maxOutputTokens:32e3,temperature:.5,topP:.1,topK:16},g=[{category:Fs.HARM_CATEGORY_HARASSMENT,threshold:Is.BLOCK_ONLY_HIGH},{category:Fs.HARM_CATEGORY_HATE_SPEECH,threshold:Is.BLOCK_MEDIUM_AND_ABOVE}],D=h.getGenerativeModel({model:"gemini-pro"}),P=y.map(E=>({role:E.handler,parts:[{text:E.text}]}));t(!1),f(!1);try{if(f(!0),t(!0),c.match(/\b(introduce (yourself|u)|who (are|r) (you|u)|what('| i)s your (name))\b/i)){const E="My name is SmartEduHub. I am an AI model developed by student of COMSATS, designed to assist with a variety of language-related tasks, including answering questions, generating text, and more. While I'm always learning and expanding my capabilities, my primary goal is to assist and provide information. How can I help you today?";N(c,"user"),N(E,"model"),s(E,!0,!1,!1),t(!1),f(!1)}else{const W=await(await(await D.startChat({generationConfig:p,history:P,safetySettings:g}).sendMessage(c)).response).text();N(c,"user"),N(W,"model");const I=W.includes("```");s(W,!0,I,!1),t(!1),f(!1)}}catch{t(!1),f(!1),s("Sorry, I couldn't understand that.",!0,!1,!1)}finally{f(!1)}},n=async c=>{c.preventDefault();const h=l.trim();!h&&!a||(a?s(h,!1,!1,!0):s(h),d(""),a?x(h,a):await j(h))};return e.jsxs("div",{className:"relative flex items-center space-x-2 w-full max-w-lg overflow-hidden",children:[a&&e.jsx("button",{className:"absolute size-4 bottom-6 left-4 bg-transparent text-black border-2 border-gray-300 hover:bg-blue-50 cursor-pointer m-2",onClick:i,children:e.jsx(ie,{className:"size-5"})}),e.jsx("div",{children:a?e.jsx("img",{src:URL.createObjectURL(a),alt:"Selected Image",className:"size-8 rounded-md border-blue-600"}):e.jsxs("div",{className:"absolute left-6 top-2",children:[e.jsx("label",{htmlFor:"imageChat",id:"labelImage",className:"cursor-pointer",children:e.jsx(ps,{className:"text-gray-700"})}),e.jsx("input",{type:"file",id:"imageChat",name:"imageChat",className:"hidden",accept:"image/*",onChange:v})]})}),e.jsx("textarea",{className:"w-full text-base poppins-regular border-2 rounded-3xl pl-12 pr-20 py-2 resize-none outline-none focus:outline-none border-transparent overflow-hidden",onInput:c=>ws(c.target),onChange:c=>d(c.target.value),disabled:u,onKeyDown:c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),n(c))},value:l,placeholder:"Type your query here...",rows:1,style:{paddingRight:"50px"}}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4",children:e.jsx(fs,{onClick:n,className:"size-7 text-green-700"})})]})},q=r.forwardRef(({className:s,...t},a)=>e.jsx(Gs,{ref:a,className:b("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t}));q.displayName=Gs.displayName;const Q=r.forwardRef(({className:s,...t},a)=>e.jsx(Ks,{ref:a,className:b("aspect-square h-full w-full",s),...t}));Q.displayName=Ks.displayName;const G=r.forwardRef(({className:s,...t},a)=>e.jsx(Ws,{ref:a,className:b("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t}));G.displayName=Ws.displayName;const Fr=({Chats:s,PromptRunning:t})=>{const a=o=>{let l=o.replace(/##/g,"<br>");return l=l.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),l=l.replace(/_(.*?)_/g,"<em>$1</em>"),l=l.replace(/\*(.*?)\*/g,"<em>$1</em>"),l};return e.jsxs("div",{className:"flex flex-col overflow-y-auto text-wrap space-y-4 p-4 w-full justify-end",children:[s.map((o,l)=>e.jsx("div",{className:`flex ${o.isBot?"justify-start":"justify-end"}`,children:e.jsxs("div",{className:`flex space-x-2 items-end ${o.isBot?"bg-[#87ceeb]":"bg-[#85f9bc]"} w-fit rounded-md p-2`,children:[o.isBot&&e.jsx(q,{className:"size-8",children:e.jsx(G,{children:e.jsx(Ys,{})})}),e.jsxs("div",{className:"flex flex-col",children:[o.isCode?e.jsx(pa.Markdown,{source:o.text,style:{whiteSpace:"pre-wrap text-wrap"},className:"rounded-xl text-wrap "}):e.jsx("span",{className:`text-base poppins-regular font-thin ${o.isBot?"text-left":"text-right"}`,dangerouslySetInnerHTML:{__html:a(o.text)}}),e.jsxs("span",{className:"font-extralight text-xs text-right",children:[o.isBot?"Bot":"You"," |"," ",new Date().toLocaleDateString(void 0,{month:"short",day:"numeric"})]})]})]})},l)),t&&e.jsxs("div",{className:"w-full flex flex-col space-y-2 justify-center items-center bg-transparent",children:[e.jsx(fa,{color:"#89CFF3"}),e.jsx("span",{className:"poppins-light text-xs",children:"Fetching response from gemini"})]})]})};function Ir(){const[s,t]=r.useState([]),a=r.useRef(null),[o,l]=r.useState(!1),d=f=>{l(f)};r.useEffect(()=>{a.current.scrollTop=a.current.scrollHeight},[s]);const u=(f,v=!1,i=!1,y=!1)=>{t(m=>[...m,{text:f,isBot:v,isCode:i,hasImage:y}])};return e.jsx("div",{className:"w-full mt-1 space-y-2 flex border-gray-400 flex-col items-center",children:e.jsx("div",{className:"w-[90%] h-screen",children:e.jsxs(ze,{className:"border-2 shadow-2xl bg-[#c2e5f3] border-gray-400 rounded-3xl h-[90%] flex flex-col",children:[e.jsx(_e,{className:"pb-2",children:e.jsx(He,{children:e.jsx("div",{className:"poppins-bold flex flex-col items-center",children:e.jsx("span",{children:"ChatBot"})})})}),e.jsx(qe,{className:"px-4 py-2 flex-1 w-full overflow-y-auto border-t-2 border-b-2 rounded-lg border-t-gray-300 border-b-gray-400 bg-[#cee5ee] [&::-webkit-scrollbar]:hidden",style:{maxHeight:"500px"},ref:a,children:e.jsx(Fr,{Chats:s,PromptRunning:o})}),e.jsx(Ge,{className:"flex justify-center mt-4 pb-4",children:e.jsx(Rr,{HandleData:u,Prompt:d})})]})})})}const $r=ha({reducer:{profile:yr}}),Pr=je("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=r.forwardRef(({className:s,variant:t,size:a,asChild:o=!1,...l},d)=>{const u=o?ga:"button";return e.jsx(u,{className:b(Pr({variant:t,size:a,className:s})),ref:d,...l})});F.displayName="Button";const ae=r.forwardRef(({className:s,orientation:t="horizontal",decorative:a=!0,...o},l)=>e.jsx(Qs,{ref:l,decorative:a,orientation:t,className:b("shrink-0 bg-slate-200 dark:bg-slate-800",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...o}));ae.displayName=Qs.displayName;const Ke=Xs,We=et,Tr=Zs,Et=r.forwardRef(({className:s,...t},a)=>e.jsx(Te,{ref:a,className:b("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));Et.displayName=Te.displayName;const ke=r.forwardRef(({className:s,children:t,...a},o)=>e.jsxs(Tr,{children:[e.jsx(Et,{}),e.jsxs(Le,{ref:o,className:b("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-slate-800 dark:bg-slate-950",s),...a,children:[t,e.jsxs(Js,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-400",children:[e.jsx(ie,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ke.displayName=Le.displayName;const Ye=({className:s,...t})=>e.jsx("div",{className:b("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});Ye.displayName="DialogHeader";const Ce=r.forwardRef(({className:s,...t},a)=>e.jsx(Ae,{ref:a,className:b("text-lg font-semibold leading-none tracking-tight",s),...t}));Ce.displayName=Ae.displayName;const Qe=r.forwardRef(({className:s,...t},a)=>e.jsx(Ue,{ref:a,className:b("text-sm text-slate-500 dark:text-slate-400",s),...t}));Qe.displayName=Ue.displayName;const ks=r.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:b("flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",s),ref:a,...t}));ks.displayName="Textarea";const Lr=({Comments:s})=>s.length===0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full text-center flex flex-col space-y-2",children:[e.jsx("span",{className:"text-red-500 poppins-semibold text-base",children:"POST HAS NO COMMENTS."}),e.jsxs("span",{className:"poppins-bold text-blue-500 text-xs",children:["ADD A COMMENT!"," "]})]})}):e.jsx(e.Fragment,{children:s.map(t=>e.jsxs(r.Fragment,{children:[e.jsxs("div",{className:"flex space-x-3 mt-4 items-center rounded-xl p-4 overflow-hidden shadow-inner bg-[#dfe3ee] ",children:[e.jsxs("div",{className:"flex flex-col items-center shrink-0",children:[e.jsxs(q,{className:"bg-gray-500 text-white size-12",children:[e.jsx(Q,{src:t.userPic||"default_avatar_url.png"}),e.jsx(G,{children:t.userName[0]})]}),e.jsx("span",{className:"poppins-regular text-sm ",children:t.userName})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("span",{className:"pl-8 text-base text-gray-700 break-words poppins-semibold",children:t.text}),t.createdAt&&e.jsx("span",{className:"text-right poppins-light text-xs pr-2",children:new Date(t.createdAt.toDate()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),e.jsx(ae,{className:"bg-[#89CFF3]"})]},t.id))}),Ar="/comment_sound.m4a",Ur=({PostId:s})=>{const t=B(n=>n.profile.picture),a=B(n=>n.profile.userId),[o,l]=r.useState(!1),[d,u]=r.useState(""),[f,v]=r.useState([]),[i,y]=r.useState(null),m=n=>{y(n)};r.useEffect(()=>{if(!i)return;l(!0),(async()=>{l(!0);const c=$(S,"posts",i,"comments"),h=A(c,ge("createdAt","desc")),p=$e(h,async g=>{const D=g.docs.map(async E=>{const U=E.data();return{id:E.id,...U}}),P=await Promise.all(D);v(P),l(!1)});return l(!1),()=>p()})()},[i]);function N(){new Audio(Ar).play()}const w=async n=>{if(!d.trim())return;let c="";try{j(!0),l(!0),Sr({inputs:d}).then(async h=>{if(c=h[0][0].label,c=="positive"||c=="neutral"){N(),u("");const g=$(S,"posts",n,"comments");await ue(g,{text:d,authorId:a,createdAt:be(),userName:localStorage.getItem("userName"),userPic:t});const D=oe(S,"posts",n);await J(D,{comments:ds(1)}),l(!1),T({className:"bg-[#87CEEB] poppins-bold",variant:"default",title:"Success.",description:"Comment added successfully. "})}else c=="negative"?(l(!1),T({className:"poppins-bold",variant:"destructive",title:"OOPs!",description:"Negative comments are not allowed."})):(l(!1),T({className:"poppins-bold",variant:"default",description:"Something went wrong please try again."}))})}catch(h){console.error("Error adding comment: ",h)}finally{j(!1),l(!1)}},[x,j]=r.useState(!1);return e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs(Ke,{children:[e.jsx(We,{children:e.jsxs(F,{className:"poppins-semibold border-2 border-gray-400 bg-gray-100 text-gray-700 rounded-2xl hover:bg-gray-300 hover:text-black space-x-1 hover:border-dotted hover:border-gray-500",onClick:()=>m(s),children:[e.jsx(ba,{className:"pr-1"}),"Comment"]})}),e.jsx(ke,{className:"h-5/6 overflow-auto [&::-webkit-scrollbar]:hidden bg-[#CDF5FD]",children:e.jsxs(Ye,{children:[e.jsx(Ce,{className:"text-2xl",children:"Insights on this post."}),e.jsxs(Qe,{className:"space-y-4 ",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ks,{disabled:x,className:"px-6 pr-10 py-2 border-2 resize-none placeholder:text-muted-foreground poppins-regular text-md bg-slate-100 rounded-3xl overflow-hidden border-blue-500 focus-visible:ring-slate-100 focus-visible:ring-0 focus-visible:ring-offset-0 text-gray focus-within:border-blue-700 transition-all duration-200 text-gray outline-none shadow-inner",onKeyUp:n=>{ws(n.target)},onKeyDown:n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),w(s),u(""))},value:d,onChange:n=>u(n.target.value),placeholder:"Fuel the discussion..."}),e.jsx("button",{className:"absolute right-4  bottom-2 text-blue-500 hover:text-red-600",type:"button",onClick:n=>{n.preventDefault(),w(s)},children:e.jsx(fs,{className:"size-7"})})]}),o?e.jsx("div",{className:"fixed inset-0 flex justify-center items-center bg-[rgba(255,255,255,0.8)]",children:e.jsx(Be,{color:"#36d7b7"})}):e.jsx(Lr,{Comments:f})]})]})})]})})},Br=({PostId:s,UserId:t})=>{const{isLiking:a,isLiked:o,handleLike:l}=Er(s,t);return e.jsx(e.Fragment,{children:e.jsx(F,{className:`poppins-semibold border-2 rounded-2xl px-0 py-0 ${o?"bg-transparent hover:bg-red-100 text-white border-transparent hover:border-dashed hover:border-red-300":"bg-transparent hover:bg-red-400 hover:border-red-400 hover:border-dashed text-red-900 border-gray-300 "}`,style:{display:"inline-flex"},onClickCapture:()=>{l()},disabled:a,children:e.jsx(ja,{isClick:o,onClick:()=>{l()}})})})},Dt=r.createContext(null);function Je(){const s=r.useContext(Dt);if(!s)throw new Error("useCarousel must be used within a <Carousel />");return s}const Cs=r.forwardRef(({orientation:s="horizontal",opts:t,setApi:a,plugins:o,className:l,children:d,...u},f)=>{const[v,i]=ya({...t,axis:s==="horizontal"?"x":"y"},o),[y,m]=r.useState(!1),[N,w]=r.useState(!1),x=r.useCallback(h=>{h&&(m(h.canScrollPrev()),w(h.canScrollNext()))},[]),j=r.useCallback(()=>{i==null||i.scrollPrev()},[i]),n=r.useCallback(()=>{i==null||i.scrollNext()},[i]),c=r.useCallback(h=>{h.key==="ArrowLeft"?(h.preventDefault(),j()):h.key==="ArrowRight"&&(h.preventDefault(),n())},[j,n]);return r.useEffect(()=>{!i||!a||a(i)},[i,a]),r.useEffect(()=>{if(i)return x(i),i.on("reInit",x),i.on("select",x),()=>{i==null||i.off("select",x)}},[i,x]),e.jsx(Dt.Provider,{value:{carouselRef:v,api:i,opts:t,orientation:s||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:j,scrollNext:n,canScrollPrev:y,canScrollNext:N},children:e.jsx("div",{ref:f,onKeyDownCapture:c,className:b("relative",l),role:"region","aria-roledescription":"carousel",...u,children:d})})});Cs.displayName="Carousel";const Ss=r.forwardRef(({className:s,...t},a)=>{const{carouselRef:o,orientation:l}=Je();return e.jsx("div",{ref:o,className:"overflow-hidden",children:e.jsx("div",{ref:a,className:b("flex",l==="horizontal"?"-ml-4":"-mt-4 flex-col",s),...t})})});Ss.displayName="CarouselContent";const Es=r.forwardRef(({className:s,...t},a)=>{const{orientation:o}=Je();return e.jsx("div",{ref:a,role:"group","aria-roledescription":"slide",className:b("min-w-0 shrink-0 grow-0 basis-full",o==="horizontal"?"pl-4":"pt-4",s),...t})});Es.displayName="CarouselItem";const Ds=r.forwardRef(({className:s,variant:t="outline",size:a="icon",...o},l)=>{const{orientation:d,scrollPrev:u,canScrollPrev:f}=Je();return e.jsxs(F,{ref:l,variant:t,size:a,className:b("absolute  h-8 w-8 rounded-full",d==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!f,onClick:u,...o,children:[e.jsx(va,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Ds.displayName="CarouselPrevious";const Rs=r.forwardRef(({className:s,variant:t="outline",size:a="icon",...o},l)=>{const{orientation:d,scrollNext:u,canScrollNext:f}=Je();return e.jsxs(F,{ref:l,variant:t,size:a,className:b("absolute h-8 w-8 rounded-full",d==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!f,onClick:u,...o,children:[e.jsx(Na,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Next slide"})]})});Rs.displayName="CarouselNext";const Mr=({fileUrls:s})=>{const[t,a]=r.useState(0),o=l=>{const d=typeof l=="number"?l:l.target.value;a(d)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"relative w-full",children:e.jsxs(Cs,{className:"w-full",plugins:[st({delay:12e3})],children:[e.jsx(Ss,{onChange:o,children:s==null?void 0:s.map((l,d)=>e.jsx(Es,{children:e.jsx("div",{className:"w-full flex justify-center  object-cover rounded-md overflow-hidden",children:l.includes(".jpg")||l.includes(".jpeg")||l.includes(".image/jpg")||l.includes(".image/jpeg")||l.includes(".image/png")||l.includes(".image/mp4")||l.includes(".image/mov")||l.includes("_undefined")||l.includes(".png")?e.jsx("img",{src:l,alt:`Slide ${d+t+1}`,loading:"lazy",className:"object-cover size-[70%] rounded-xl border-2 border-[#87CEEB]"}):l.includes(".mp4")||l.includes(".mov")?e.jsx(wa,{style:{border:"2px",borderRadius:"12px"},width:"80%",height:"80%",className:"border-2 border-[#87CEEB]",url:`${l}-U`,controls:!0,muted:!1}):null})},d))}),s&&s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(Ds,{className:"absolute left-0 z-10"}),e.jsx(Rs,{className:"absolute right-0 z-10"})]})]})})})},Or=({UserName:s,UserProfilePic:t,PostTime:a,PostCategory:o})=>e.jsxs("div",{className:"poppins-extralight flex items-center space-x-2",children:[e.jsxs(q,{children:[e.jsx(Q,{src:t}),e.jsx(G,{className:"border-slate-400 border-2",children:s?s[0]:"U"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-xl",children:[s,e.jsx("span",{className:"text-xs poppins-mono",children:o})]}),e.jsx("span",{className:"text-sm poppins-extralight",children:new Date(a==null?void 0:a.toDate()).toLocaleString("en-US",{day:"numeric",year:"numeric",month:"long",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),Rt=({fetchId:s,fetchAll:t})=>{const{loading:a,posts:o,hasPost:l}=Dr(t,s),d=B(u=>u.profile.userId);return a?e.jsx("div",{className:"flex justify-center items-center w-full pt-14",children:e.jsx(Pe,{color:"#36d7b7"})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"poppins-regular w-full h-fit flex items-center flex-col flex-1",children:l?e.jsxs("div",{className:"flex items-center flex-col flex-1 w-full max-w-screen-lg",children:[" ",d&&o.map(u=>{var v;const f=(v=u.fileUrls)==null?void 0:v.some(i=>i.includes(".jpg")||i.includes(".jpeg")||i.includes(".png")||i.includes(".mp4")||i.includes(".mov")||i.includes(".image/jpg")||i.includes(".image/jpeg")||i.includes(".image/png")||i.includes(".image/mp4")||i.includes(".image/mov")||i.includes("_undefined"));return e.jsxs("div",{className:"w-full max-w-[90%] h-fit",children:[" ",e.jsx(ae,{className:"bg-gray-400 mt-4"}),e.jsxs(ze,{className:"border-2 shadow-2xl bg-[#deeff7] border-blue-400 rounded-3xl mt-4",children:[e.jsx(_e,{className:"border-b-2 border-blue-200",children:e.jsx(He,{children:e.jsx(Or,{UserName:u.userName,UserProfilePic:u.userPic,PostTime:u.createdAt,PostCategory:u.category})})}),e.jsxs(qe,{className:"flex flex-col items-center text-lg overflow-hidden space-y-2",children:[e.jsx("div",{className:"w-full text-left",children:e.jsx("span",{className:"text-[#163848] poppins-regular",children:u.content})}),f&&e.jsx(Mr,{fileUrls:u.fileUrls})]}),e.jsxs(Ge,{className:"flex justify-center mt-3 space-x-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Br,{PostId:u.id,UserId:d}),e.jsxs("span",{className:"poppins-light text-xs",children:[u.likes||0," likes"]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Ur,{PostId:u.id}),e.jsxs("span",{className:"poppins-light text-xs",children:[u.comments||0," comments"]})]})]})]})]},u.id)})]}):e.jsxs("div",{className:"flex flex-col justify-center items-center rounded-md bg-slate-100 w-full max-w-screen-lg p-4",children:[" ",e.jsx("span",{className:"text-blue-500 poppins-bold text-lg",children:"No Posts to display."})]})})})},Vr="/pdf.png",zr=({address:s})=>e.jsx(Ps.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.4.120/build/pdf.worker.min.js",children:e.jsxs("div",{style:{border:"1px solid rgba(0, 0, 0, 0.3)",height:"750px",width:"750px"},children:[e.jsx(Ps.Viewer,{fileUrl:s}),";"]})}),X=r.forwardRef(({className:s,type:t,...a},o)=>e.jsx("input",{type:t,className:b("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",s),ref:o,...a}));X.displayName="Input";const _r=({onSearch:s})=>{const t=a=>{const o=a.target.value;s(o)};return e.jsx("div",{className:"w-full flex justify-center mt-6 mb-6",children:e.jsxs("div",{className:"absolute w-[45%]",children:[e.jsx("div",{className:"absolute left-3 top-2 pointer-events-none",children:e.jsx(ve,{className:"text-gray-600"})}),e.jsx(X,{className:"bg-slate-300 rounded-full overflow-hidden px-10 text-black poppins-semibold focus:bg-slate-200 border-gray-400 focus-visible:ring-0 focus-visible:ring-offset-0 outline-none focus-visible:border-blue-700",placeholder:"Search documents...",onChange:t})]})})},Ft=({showPersonal:s,fetchId:t})=>{const[a,o]=r.useState([]),l=B(m=>m.profile.name);r.useEffect(()=>{(async()=>{if(s===!0){const w=(await O(A($(S,"files"),M("publisher_uid","==",t)))).docs.map(x=>{const j=x.data();return{id:x.id,title:j.title,downloadURL:j.downloadURL,description:j.description,size:j.size,publisher:j.publisher}});o(w)}else{const N=$(S,"files"),x=(await O(A(N,ge("uploadedAt","desc")))).docs.map(j=>{const n=j.data();return{id:j.id,title:n.title,downloadURL:n.downloadURL,description:n.description,size:n.size,publisher:n.publisher}});o(x)}})()},[]);const d=m=>{const N=document.createElement("input");N.style.position="fixed",N.style.opacity="0",N.value=m,document.body.appendChild(N),N.select(),document.execCommand("copy"),document.body.removeChild(N),T({className:"bg-[#87CEEB] poppins-bold",variant:"default",title:"Link Copied!",description:"Anyone with this link can view and download this file."})},[u,f]=r.useState(""),v=m=>{f(m)},i=a.filter(m=>m.title.toLowerCase().includes(u.toLowerCase())||m.description.toLowerCase().includes(u.toLowerCase()));function y(m,N){fetch(m).then(w=>w.blob()).then(w=>{const x=document.createElement("a");x.href=window.URL.createObjectURL(w),x.download=N,x.click()}).catch(w=>console.error("Error downloading file:",w))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx(_r,{onSearch:v})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 lg:grid-cols-1 gap-4 justify-center items-center py-4 max-h-[calc(100vh - 200px)] w-[92%] poppins-bold",children:i.length>0?i.map(m=>e.jsx("div",{className:"border-2 border-blue-300 shadow-xl rounded-3xl bg-[#cbe3ec]",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:Vr,alt:"pdf Image",className:"h-10 w-auto"}),e.jsxs("span",{className:"poppins-extralight text-base text-slate-400 ml-2",children:[parseFloat(m.size).toFixed(2),"MB"]})]}),e.jsx("div",{className:"text-right",children:m.publisher&&e.jsxs("span",{className:"text-xs poppins-semibold text-gray-500",children:["Contributor:"," ",l===m.publisher?"You":m.publisher]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h1",{className:"text-3xl poppins-semibold text-gray-900 truncate",children:m.title}),e.jsx("p",{className:"line-clamp-2 text-base poppins-regular-italic text-gray-400 mt-2",children:m.description})]}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-4",children:[e.jsx(F,{className:"bg-[#87CEEB] w-32 border-gray-600 border-2 poppins-semibold text-black hover:bg-slate-300 border-dashed hover:border-double",onClick:()=>{T({className:"bg-[#87CEEB] poppins-bold",variant:"default",title:"Downloading...",description:"Your Download will start in a while."}),y(m.downloadURL,m.title)},children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(ka,{}),e.jsx("span",{className:"poppins-semibold",children:"Download"})]})}),e.jsxs(Ke,{children:[e.jsx(We,{children:e.jsx(F,{className:"bg-[#87CEEB] w-32 border-gray-600 border-2 poppins-semibold text-black hover:bg-slate-300 border-dashed hover:border-double",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(tt,{}),e.jsx("span",{className:"poppins-semibold",children:"View"})]})})}),e.jsxs(ke,{className:"max-w-[800px] bg-[#CDF5FD] max-h-[600px] overflow-hidden flex justify-center-center",children:[e.jsx(Ce,{children:m.title}),e.jsx(zr,{address:m.downloadURL})]})]}),e.jsx(F,{className:"bg-[#87CEEB] w-32 border-gray-600 border-2 poppins-semibold text-black hover:bg-slate-300 border-dashed hover:border-double",onClick:()=>d(m.downloadURL),children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(Ca,{}),e.jsx("span",{className:"poppins-semibold",children:"Copy Link"})]})})]})]})},m.id)):e.jsx("div",{className:"text-center w-full",children:e.jsx("p",{className:"text-gray-600",children:"No files found."})})})]})},Hr=({FetchId:s})=>{const[t,a]=r.useState("posts"),o=l=>`bg-[#87CEEB] border-gray-600 border-2 font-semibold text-black hover:bg-slate-300 border-dashed ${t===l?"hover:border-dashed border-double bg-gray-400 text-white hover:text-black":""}`;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-center border-b-2 border-gray-300 space-x-4 w-full pb-2",children:[e.jsx(F,{className:o("posts"),onClick:()=>a("posts"),children:"Posts"}),e.jsx(F,{className:o("files"),onClick:()=>a("files"),children:"Files"})]}),t==="posts"?e.jsx(Rt,{fetchAll:!1,fetchId:s}):e.jsx(Ft,{showPersonal:!0,fetchId:s})]})},qr=({UserID:s})=>{const[t,a]=r.useState(),[o,l]=r.useState(),d=async u=>{try{const f=A($(S,"users"),M("uid","==",u)),v=await O(f);if(v.empty)return console.error("User document not found in Firestore"),null;{const i=v.docs[0].data(),y=i==null?void 0:i.userName,m=i==null?void 0:i.ProfilePic;return a(m),l(y),i}}catch(f){return console.error("Error fetching user data from Firestore:",f),null}};return r.useEffect(()=>{s&&d(s)},[s]),e.jsx("div",{className:"w-full flex justify-center mt-[3%]",children:e.jsxs("div",{className:"relative flex w-[95%] items-center justify-center flex-col shadow-xl rounded-3xl border-transparent p-2 bg-[#89CFF3] overflow-hidden",children:[e.jsx("div",{className:"w-full h-28 bg-[#CDF5FD] rounded-t-2xl"}),e.jsx("div",{className:"w-full h-32 border-t-2 border-gray-600 bg-[#89CFF3] rounded-b-2xl"}),e.jsxs("div",{className:"absolute flex flex-col justify-center items-center",children:[e.jsxs(q,{className:"h-[33%] w-44 border-2 border-gray-500",children:[e.jsx(Q,{src:t}),e.jsx(G,{className:"poppins-bold text-black",children:o?o[0]:"U"})]}),e.jsx("h2",{className:"transform [-translate-x-1/2] poppins-bold text-3xl poppins-semibold truncate text-gray-800 mt-2",style:{letterSpacing:"0.3px"},children:o})]})]})})},Gr=()=>{let{queryUserId:s}=Sa();return e.jsxs(e.Fragment,{children:[console.log("Pram"+s),s&&e.jsx(qr,{UserID:s}),s&&e.jsx(Hr,{FetchId:s})]})},Kr=()=>e.jsx(e.Fragment,{children:e.jsx(Ft,{showPersonal:!1,fetchId:""})}),It=()=>{const s=ye(),t=Ve();return r.useCallback(async()=>{try{await Ea(Me),localStorage.removeItem("token"),localStorage.removeItem("uid"),localStorage.removeItem("category"),localStorage.removeItem("user"),localStorage.removeItem("PicUrl"),t(jr()),s("/login")}catch(o){T({className:"poppins-bold",variant:"destructive",title:"Oh! Logout failed.",description:`${o}`})}},[s])},Wr=()=>{const s=Da(),[t,a]=r.useState(s.pathname),o=It();return e.jsxs("div",{className:"flex flex-col items-center border-blue-400 border-2 shadow-xl rounded-xl bg-[#c2e5f3] overflow-hidden",children:[e.jsx(H,{to:"/",className:`w-full ${t==="/"?"bg-slate-300 border-slate-400 border-b-2":""}`,onClick:()=>a("/"),children:e.jsxs("div",{className:"flex items-center p-3 space-x-4 hover:bg-slate-200",children:[e.jsx(Ra,{}),e.jsx("span",{children:"Home"})]})}),e.jsx(ae,{className:"bg-[#87CEEB]"}),e.jsx(H,{to:"/Chats",className:`w-full ${t==="/Chats"?"bg-slate-300 border-slate-400 border-b-2":""}`,onClick:()=>a("/Chats"),children:e.jsxs("div",{className:"flex items-center p-3 space-x-4 hover:bg-slate-200",children:[e.jsx(Ys,{}),e.jsx("span",{children:"ChatBot"})]})}),e.jsx(ae,{className:"bg-[#87CEEB]"}),e.jsx(H,{to:"/Members",className:`w-full ${t==="/Members"?"bg-slate-300 border-slate-400 border-b-2":""}`,onClick:()=>a("/Members"),children:e.jsxs("div",{className:"flex w-full items-center p-3 space-x-4 hover:bg-slate-200",children:[e.jsx(Fa,{}),e.jsx("span",{children:"Members"})]})}),e.jsx(ae,{className:"bg-[#87CEEB]"}),e.jsx(H,{to:"/Files",className:`w-full ${t==="/Files"?"bg-slate-300 border-slate-400 border-b-2":""}`,onClick:()=>a("/Files"),children:e.jsxs("div",{className:"flex w-full items-center p-3 space-x-4 hover:bg-slate-200",children:[e.jsx(Ia,{}),e.jsx("span",{children:"Files"})]})}),e.jsx(ae,{className:"bg-[#87CEEB]"}),e.jsx("a",{href:"",className:"w-full text-left",onClick:o,children:e.jsxs("div",{className:"flex items-center p-3 space-x-4 hover:bg-slate-200",children:[e.jsx(at,{}),e.jsx("span",{children:"Logout"})]})})]})},Yr=je("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),L=r.forwardRef(({className:s,...t},a)=>e.jsx(rt,{ref:a,className:b(Yr(),s),...t}));L.displayName=rt.displayName;function Qr({className:s}){const t=B(d=>d.profile.name),[a,o]=r.useState(!1),l=async d=>{d.preventDefault();const u=new FormData(d.target),f=u.get("fileName"),v=u.get("fileComment"),i=u.get("doc");o(!0);const y=$(S,"files"),m=A(y,M("title","==",f));if(!(await O(m)).empty){o(!1),T({className:"poppins-bold",variant:"destructive",title:"Title already exists. Please enter a unique name."});return}const x=xs().currentUser;if(!x){console.error("No authenticated user found.");return}const j=x.uid;if(i instanceof File&&f){o(!0);const n=(i.size/1048576).toFixed(2).toString(),c=Ne(Oe,`files/${f}`);hs(c,i).then(p=>{const g=p.bytesTransferred/p.totalBytes*100;return T({className:"bg-[#87CEEB] poppins-bold",variant:"default",title:"Upload is "+g+"% done"}),we(c)}).then(p=>{const g=$(S,"files");return ue(g,{title:f,publisher:t,publisher_uid:j,description:v,downloadURL:p,size:n,uploadedAt:new Date})}).then(p=>{const g=p.id;return T({className:"bg-[#87CEEB] poppins-bold",variant:"default",title:"Success.",description:"File uploaded successfully. "}),J(p,{doc_id:g}).then(()=>g)}).then(async p=>{const g=A($(S,"users"),M("uid","==",j));(await O(g)).forEach(async P=>{await J(P.ref,{files:gs(p)})})}).catch(p=>{T({className:"poppins-bold",variant:"destructive",title:"Error uploading file.",description:p})}).finally(()=>{o(!1)})}else o(!1),T({className:"poppins-bold",variant:"destructive",title:"File and Title are required"})};return e.jsx(e.Fragment,{children:a?e.jsx("div",{className:"flex justify-center items-center]",children:e.jsx(Be,{color:"#36d7b7"})}):e.jsxs("form",{className:b("grid items-start gap-4 poppins-regular",s),onSubmit:l,encType:"multipart/form-data",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(L,{htmlFor:"fileName",children:"Document Name"}),e.jsx(X,{type:"text",id:"fileName",placeholder:"Enter Document Title",required:!0,name:"fileName"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(L,{htmlFor:"fileComment",children:"Remarks"}),e.jsx(X,{type:"text",id:"fileComment",placeholder:"Remarks on Selected Document",required:!0,name:"fileComment"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(L,{htmlFor:"doc",children:"Select Document"}),e.jsx(X,{type:"file",id:"doc",name:"doc",required:!0,accept:"application/pdf"})]}),e.jsx(F,{type:"submit",className:"bg-[#89CFF3] poppins-semibold text-black border-2 border-gray-500 hover:bg-blue-400 hover:text-white",children:"Upload Document"})]})})}const Jr=()=>e.jsxs(Ke,{children:[e.jsx(We,{asChild:!0,children:e.jsx(F,{variant:"ghost",className:"poppins-semibold bg-[#87CEEB] border-gray-600 border-2 poppins-semibold text-black hover:bg-slate-300 border-dashed hover:border-double",children:"Upload Document"})}),e.jsxs(ke,{className:"sm:max-w-[425px] bg-[#CDF5FD]",children:[e.jsxs(Ye,{children:[e.jsx(Ce,{className:"poppins-bold",style:{letterSpacing:"0.3px"},children:"Upload Documents to Cloud"}),e.jsx(Qe,{className:"poppins-light",children:"Upload your important documents so you never loss them."})]}),e.jsx(Qr,{})]})]}),Zr=()=>{const s=B(o=>o.profile.name),t=B(o=>o.profile.picture),a=B(o=>o.profile.userId);return e.jsx(e.Fragment,{children:e.jsx(H,{to:`/Profile/${a}`,children:e.jsxs("div",{className:"flex items-center border-2 border-blue-400 shadow-xl rounded-xl p-2 bg-[#cbe3ec]",children:[e.jsxs(q,{className:"size-12 ",children:[e.jsx(Q,{src:t}),e.jsx(G,{children:s?s[0]:"U"})]}),e.jsx("h2",{className:"poppins-semibold pl-2 truncate",style:{letterSpacing:"0.5px"},children:s})]})})})};function Xr(){return e.jsx("div",{className:"poppins-light flex flex-col w-full lg:w-1/4 xl:w-1/5 h-full px-4 py-2 mt-4 lg:px-5 lg:sticky lg:top-4",children:e.jsxs("div",{className:"flex flex-col w-full h-full space-y-4 ",children:[e.jsx(Zr,{}),e.jsx(Jr,{}),e.jsx(Wr,{})]})})}const el="/logo.png",sl=()=>{const s=ye();return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{className:"w-14 cursor-pointer",src:el,alt:"LOGO",onClick:()=>s("/")}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sky-700 text-2xl poppins-bold",children:"Smart"}),e.jsx("h1",{className:"text-black text-xl poppins-semibold",children:"EduHub"})]})]})},Re=La,Fe=Aa,tl=r.forwardRef(({className:s,inset:t,children:a,...o},l)=>e.jsxs(lt,{ref:l,className:b("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-slate-100 data-[state=open]:bg-slate-100 dark:focus:bg-slate-800 dark:data-[state=open]:bg-slate-800",t&&"pl-8",s),...o,children:[a,e.jsx($a,{className:"ml-auto h-4 w-4"})]}));tl.displayName=lt.displayName;const al=r.forwardRef(({className:s,...t},a)=>e.jsx(ot,{ref:a,className:b("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",s),...t}));al.displayName=ot.displayName;const fe=r.forwardRef(({className:s,sideOffset:t=4,...a},o)=>e.jsx(Pa,{children:e.jsx(nt,{ref:o,sideOffset:t,className:b("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",s),...a})}));fe.displayName=nt.displayName;const le=r.forwardRef(({className:s,inset:t,...a},o)=>e.jsx(it,{ref:o,className:b("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t&&"pl-8",s),...a}));le.displayName=it.displayName;const $t=r.forwardRef(({className:s,children:t,checked:a,...o},l)=>e.jsxs(ct,{ref:l,className:b("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",s),checked:a,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(dt,{children:e.jsx(Ta,{className:"h-4 w-4"})})}),t]}));$t.displayName=ct.displayName;const rl=r.forwardRef(({className:s,children:t,...a},o)=>e.jsxs(ut,{ref:o,className:b("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(dt,{children:e.jsx(mt,{className:"h-2 w-2 fill-current"})})}),t]}));rl.displayName=ut.displayName;const Pt=r.forwardRef(({className:s,inset:t,...a},o)=>e.jsx(xt,{ref:o,className:b("px-2 py-1.5 text-sm font-normal",t&&"pl-8",s),...a}));Pt.displayName=xt.displayName;const Tt=r.forwardRef(({className:s,...t},a)=>e.jsx(pt,{ref:a,className:b("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",s),...t}));Tt.displayName=pt.displayName;const ll=Xs,ol=et,nl=Zs,Lt=r.forwardRef(({className:s,...t},a)=>e.jsx(Te,{className:b("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:a}));Lt.displayName=Te.displayName;const il=je("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 dark:bg-slate-950",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),At=r.forwardRef(({side:s="right",className:t,children:a,...o},l)=>e.jsxs(nl,{children:[e.jsx(Lt,{}),e.jsxs(Le,{ref:l,className:b(il({side:s}),t),...o,children:[a,e.jsxs(Js,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800",children:[e.jsx(ie,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));At.displayName=Le.displayName;const Ut=({className:s,...t})=>e.jsx("div",{className:b("flex flex-col space-y-2 text-center sm:text-left",s),...t});Ut.displayName="SheetHeader";const Bt=r.forwardRef(({className:s,...t},a)=>e.jsx(Ae,{ref:a,className:b("text-lg font-semibold text-slate-950 dark:text-slate-50",s),...t}));Bt.displayName=Ae.displayName;const Mt=r.forwardRef(({className:s,...t},a)=>e.jsx(Ue,{ref:a,className:b("text-sm text-slate-500 dark:text-slate-400",s),...t}));Mt.displayName=Ue.displayName;const he=r.forwardRef(({className:s,...t},a)=>e.jsx(ft,{className:b("grid gap-2",s),...t,ref:a}));he.displayName=ft.displayName;const z=r.forwardRef(({className:s,...t},a)=>e.jsx(ht,{ref:a,className:b("aspect-square h-4 w-4 rounded-full border border-slate-200 border-slate-900 text-slate-900 ring-offset-white focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:border-slate-50 dark:text-slate-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",s),...t,children:e.jsx(Ua,{className:"flex items-center justify-center",children:e.jsx(mt,{className:"h-2.5 w-2.5 fill-current text-current"})})}));z.displayName=ht.displayName;const cl=()=>{const s=Ve(),[t,a]=r.useState(!1),[o,l]=r.useState(!1),[d,u]=r.useState(""),[f,v]=r.useState(""),[i,y]=r.useState(""),m=B(j=>j.profile.userId);return r.useEffect(()=>{(async()=>{if(m){l(!0);try{const n=A($(S,"users"),M("uid","==",m)),c=await O(n);c.empty||c.forEach(h=>{const p=h.data();u(p.name),v(p.ProfilePic),y(p.category)})}catch(n){console.error("Error fetching user profile: ",n)}finally{l(!1)}}})()},[m]),{loading:o,isEditable:t,displayName:d,dP:f,categ:i,toggleEdit:()=>{a(!t)},handleSave:async()=>{if(m){l(!0);try{const j=A($(S,"users"),M("uid","==",m)),n=await O(j);n.empty||n.forEach(async c=>{const h=c.ref;await J(h,{name:d,category:i,low_name:d.toLowerCase()}),localStorage.setItem("category",i),localStorage.setItem("Name",d),s(Ns(i)),s(vs(d))})}catch(j){console.error("Error updating document: ",j)}finally{l(!1)}}},handleProfilePictureUpload:async j=>{if(!(!m||!j)){l(!0);try{const n=qs(),c=Ne(n,`profilePictures/${m}/${j.name}`),h=hs(c,j);h.on("state_changed",()=>{},p=>{console.error("Error uploading file: ",p),l(!1)},()=>{we(h.snapshot.ref).then(async p=>{try{l(!0);const g=A($(S,"users"),M("uid","==",m)),D=await O(g);D.empty||D.forEach(async P=>{const E=P.ref;await J(E,{ProfilePic:p}),localStorage.setItem("PicUrl",p),s(ys(p)),v(p)})}catch(g){console.error("Error updating user profile: ",g)}finally{l(!1)}}).catch(p=>{console.error("Error getting download URL: ",p),l(!1)})})}catch(n){console.error("Error uploading profile picture: ",n),l(!1)}}},setDisplayName:u,setCateg:y}},dl=()=>{const{isEditable:s,displayName:t,dP:a,loading:o,categ:l,toggleEdit:d,handleSave:u,handleProfilePictureUpload:f,setDisplayName:v,setCateg:i}=cl(),y=N=>{const w=N.target.files[0];w&&f(w)},m=()=>{var N;(N=document.getElementById("profilePicInput"))==null||N.click()};return o?e.jsx("div",{className:"flex justify-center items-center w-full pt-14",children:e.jsx(Pe,{color:"#36d7b7"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"poppins-regular",children:[e.jsxs("div",{className:"flex  space-x-4 h-fit items-center justify-start",children:[e.jsxs(q,{className:"size-2/5 border-2 border-gray-600",children:[e.jsx(Q,{src:a}),e.jsx(G,{children:t?t[0]:"U"})]}),e.jsx(F,{className:"border-2 border-red-600 bg-transparent poppins-semibold text-black rounded-2xl px-7  hover:bg-red-400 hover:text-white",onClick:m,children:"Change"}),e.jsx("input",{type:"file",id:"profilePicInput",style:{display:"none"},onChange:y,accept:"image/*"})]}),e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsxs("div",{children:[e.jsx("span",{children:"Name: "}),e.jsx(X,{defaultValue:t,value:t,onChange:N=>v(N.target.value),disabled:!s,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm mt-4",children:"Choose your department:"}),e.jsxs(he,{defaultValue:l,className:"flex space-x-2 mt-2",disabled:!s,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"cs",id:"cs",onClick:()=>i("cs")}),e.jsx(L,{htmlFor:"cs",children:"CS"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"ee",id:"ee",onClick:()=>i("ee")}),e.jsx(L,{htmlFor:"ee",children:"EE"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"bba",id:"bba",onClick:()=>i("bba")}),e.jsx(L,{htmlFor:"bba",children:"BBA"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"civ",id:"civ",onClick:()=>i("civ")}),e.jsx(L,{htmlFor:"civ",children:"CIV"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"mec",id:"mec",onClick:()=>i("mec")}),e.jsx(L,{htmlFor:"mec",children:"MEC"})]})]})]}),e.jsxs("div",{className:"space-y-4 space-x-2 flex justify-center items-end",children:[e.jsx(F,{className:"border-2 border-red-600 bg-transparent text-black rounded-2xl px-7 hover:bg-red-400 hover:text-white poppins-semibold",onClick:d,disabled:s,children:"Edit"}),e.jsx(F,{className:"border-2 border-blue-600 bg-blue-300 text-black rounded-2xl px-7 hover:bg-blue-400 hover:text-white poppins-semibold",onClick:()=>{u(),d()},disabled:!s,children:"Save"})]})]})]})})},ul=()=>{const s=It(),t=B(l=>l.profile.picture),a=B(l=>l.profile.name),o=B(l=>l.profile.userId);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs(ll,{children:[e.jsxs(Re,{children:[e.jsx(Fe,{asChild:!0,children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs(q,{children:[e.jsx(Q,{src:t}),e.jsx(G,{children:a?a[0]:"US"})]}),e.jsx(Ba,{})]})}),e.jsxs(fe,{children:[e.jsx(Pt,{children:"My Account"}),e.jsx(Tt,{}),e.jsx(H,{to:`/Profile/${o}`,children:e.jsxs(le,{children:[e.jsx(Ma,{className:"poppins-semibold"}),"Profile"]})}),e.jsx(ol,{className:"w-full mr-1",children:e.jsxs(le,{children:[e.jsx(Oa,{className:"w-4 mr-1"}),"Manage"]})}),e.jsxs(le,{onClick:s,children:[e.jsx(at,{className:"w-4 space-y-1"}),"Logout"]})]})]}),e.jsx(At,{className:"bg-[#CDF5FD]",children:e.jsxs(Ut,{children:[e.jsx(Bt,{className:"poppins-bold text-4xl",children:"Your Profile"}),e.jsx(Mt,{children:e.jsx(dl,{})})]})})]})})})},ml=()=>{const s=r.useRef(null);r.useEffect(()=>{function i(y){s.current&&!s.current.contains(y.target)&&(f([]),l(!1))}return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[s]);const[t,a]=r.useState(""),[o,l]=r.useState(!1),d=i=>{i.code==="Enter"&&v()},[u,f]=r.useState([]),v=async()=>{if(t)try{const i=A($(S,"users"),M("low_name",">=",t)),y=await O(i),m=t.toLowerCase();if(y.empty)l(!0),console.error("User document not found in Firestore"),f([]);else{const N=y.docs.map(w=>w.data()).filter(w=>w.name.toLowerCase().includes(m));f(N),l(!1)}}catch(i){l(!0),console.error("Error fetching user data from Firestore:",i)}};return r.useEffect(()=>{t.length===0&&(l(!1),f([])),v()},[t]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"hidden relative lg:flex lg:flex-col h-10 items-center bg-slate-100 rounded-3xl w-2/5 border-[3px] border-transparent pl-3 focus-within:border-blue-500 transition-all duration-700",children:[e.jsx("div",{className:"absolute left-3 top-1 pointer-events-none",children:e.jsx(ve,{})}),e.jsx(X,{className:"pl-10 w-full h-8 bg-slate-100 rounded-3xl placeholder:text-muted-foreground border-0 text-md poppins-light focus-visible:ring-0 focus-visible:ring-offset-0 outline-none",placeholder:"Search",onKeyDown:d,onChange:i=>a(i.target.value),value:t}),o&&e.jsx("div",{className:"flex flex-col items-center w-full",children:e.jsx("div",{className:"mt-2 border border-solid border-red-600 w-[50%] text-center text-red-600 bg-white shadow-lg divide-y divide-gray-200 rounded-lg overflow-hidden",children:e.jsx("span",{className:"poppins-regular",children:"User not found."})})}),u.length>0&&e.jsx("div",{ref:s,className:"flex flex-col items-center justify-center w-full",children:e.jsx("div",{className:"mt-3 w-[70%] bg-white shadow-lg divide-y divide-gray-200 rounded-lg overflow-hidden",children:u.map(i=>e.jsx(H,{to:`/Profile/${i.uid}`,className:"no-underline text-black",children:e.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-200",children:e.jsxs("div",{className:"flex space-x-2 items-center",children:[e.jsx("div",{children:e.jsxs(q,{className:"size-10 border-2",children:[e.jsx(Q,{src:i.ProfilePic||"default-avatar-url"}),e.jsx(G,{children:i.name[0]})]})}),e.jsx("div",{children:e.jsx("h3",{className:"text-lg poppins-medium text-gray-900",children:i.name})})]})},i.uid)},i.uid))})})]})})};function xl(){return e.jsx(e.Fragment,{children:e.jsx("header",{className:"sticky top-0 z-50 bg-[#89CFF3] h-fit shadow-xl rounded-b-lg border-b-4 border-blue-300",children:e.jsxs("nav",{className:"flex justify-between items-center w-full px-4 lg:w-[92%] mx-auto",children:[e.jsx(sl,{}),e.jsx(ml,{}),e.jsx(ul,{})]})})})}const Ot=({shouldScaleBackground:s=!0,...t})=>e.jsx(ee.Root,{shouldScaleBackground:s,...t});Ot.displayName="Drawer";const pl=ee.Trigger,fl=ee.Portal,Us=ee.Close,Vt=r.forwardRef(({className:s,...t},a)=>e.jsx(ee.Overlay,{ref:a,className:b("fixed inset-0 z-50 bg-black/80",s),...t}));Vt.displayName=ee.Overlay.displayName;const zt=r.forwardRef(({className:s,children:t,...a},o)=>e.jsxs(fl,{children:[e.jsx(Vt,{}),e.jsxs(ee.Content,{ref:o,className:b("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-950",s),...a,children:[e.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-slate-100 dark:bg-slate-800"}),t]})]}));zt.displayName="DrawerContent";const _t=({className:s,...t})=>e.jsx("div",{className:b("grid gap-1.5 p-4 text-center sm:text-left",s),...t});_t.displayName="DrawerHeader";const Ht=({className:s,...t})=>e.jsx("div",{className:b("mt-auto flex flex-col gap-2 p-4",s),...t});Ht.displayName="DrawerFooter";const qt=r.forwardRef(({className:s,...t},a)=>e.jsx(ee.Title,{ref:a,className:b("text-lg font-semibold leading-none tracking-tight",s),...t}));qt.displayName=ee.Title.displayName;const Gt=r.forwardRef(({className:s,...t},a)=>e.jsx(ee.Description,{ref:a,className:b("text-sm text-slate-500 dark:text-slate-400",s),...t}));Gt.displayName=ee.Description.displayName;const hl="/send_message.m4a",gl=()=>{const[s,t]=r.useState(null),[a,o]=r.useState([]),l=r.useRef(null),d=B(n=>n.profile.picture);r.useEffect(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[a]);const u=n=>{n.trim(),t(n.trim())},f=()=>{o([]),t(null)};function v(){new Audio(hl).play()}const i=async n=>{if(!N.trim()){T({className:"poppins-semibold",variant:"destructive",title:"Error!",description:"Messages cannot be empty. "});return}v();try{const c={text:N,sentBy:x,sentAt:new Date,readBy:[],profilePic:d},h=$(S,"groups",n,"messages");await ue(h,c);const p=oe(S,"groups",n);await J(p,{lastMessage:c.text}),w("")}catch(c){console.error("Error sending message:",c)}};r.useEffect(()=>{if(!s)return;const n=$(S,"groups",s,"messages"),c=A(n,ge("sentAt","asc")),h=$e(c,async p=>{const D=p.docChanges().map(async E=>{if(E.type==="added"){const U=E.doc,K=U.data(),W=K.sentBy;let I={};if(W){const re=A($(S,"users"),M("uid","==",W)),Y=await O(re);Y.empty||(I=Y.docs[0].data())}return{id:U.id,user:I,...K}}return null}),P=(await Promise.all(D)).filter(E=>E!==null);P.length>0&&o(E=>[...E,...P])});return()=>h()},[S,s]);const[y,m]=r.useState([]),[N,w]=r.useState(""),x=localStorage.getItem("uid");r.useEffect(()=>{if(!x){console.error("No authenticated user found.");return}const n=async()=>{const h=A($(S,"users"),M("uid","==",x)),p=await O(h);if(!p.empty){const g=p.docs[0].data();c(g.groups)}},c=async h=>{const p=[];for(const g of h){const D=g.trim(),P=oe(S,"groups",D),E=await cs(P);if(E.exists())p.push({id:E.id,...E.data()});else return}m(p)};n()},[x]);const j=async n=>{try{const c=localStorage.getItem("uid");if(!c){console.error("No authenticated user found.");return}const h=A($(S,"users"),M("uid","==",c)),p=await O(h);if(p.empty)console.error("User document not found.");else{const g=oe(S,"users",p.docs[0].id),P=p.docs[0].data().groups.filter(E=>E!==n);await J(g,{groups:P}),window.location.reload()}}catch(c){console.error("Error leaving group:",c)}};return e.jsx("div",{className:"w-full",children:y.map(n=>e.jsxs(Ot,{onClose:f,children:[e.jsx(pl,{asChild:!0,className:"w-full",children:e.jsxs("div",{className:"flex items-center space-x-4 p-2 bg-[#bce0ee] rounded-md my-2",onClick:()=>u(n.id),children:[e.jsx(q,{className:"w-12 h-12",children:n.icon?e.jsx(Q,{src:n.icon}):e.jsx(G,{children:n.name.substring(0,2)})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-left poppins-semibold",children:n.name}),e.jsx("span",{className:"text-sm poppins-light text-gray-500 overflow-hidden whitespace-nowrap overflow-ellipsis max-w-44",children:n.lastMessage?n.lastMessage:"No message available"})]})]},n.id)}),e.jsxs(zt,{className:"h-[85vh] bg-[#dfe3ee]",children:[e.jsxs(_t,{className:"",children:[e.jsx(qt,{children:e.jsxs("div",{className:"flex items-center justify-center space-x-0",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(q,{className:"w-10 h-10",children:n.icon?e.jsx(Q,{src:n.icon}):e.jsx(G,{children:n.name.substring(0,2)})}),e.jsx("span",{className:"pl-2 poppins-bold",style:{letterSpacing:"0.5px"},children:n.name})]}),e.jsx("div",{className:"pb-8 pl-0 ",children:e.jsx(Us,{asChild:!0,onClick:f,className:"bg-gray-200 rounded-md border-2 border-blue-500 cursor-pointer hover:bg-slate-400 hover:text-white",children:e.jsx(ie,{})})})]})}),e.jsx(Gt,{})]}),e.jsx("div",{className:" flex justify-center h-3/4 overflow-hidden border-2 border-blue-400 rounded-3xl bg-[#89CFF3] ",children:a.length===0?e.jsx("div",{className:"flex justify-center items-end p-2",children:e.jsx("span",{className:"text-gray-500 text-xl poppins-light",children:"Start a conversation"})}):e.jsx("div",{className:"flex flex-col bg-[#CDF5FD] h-full space-y-2 p-2 max-h-full  w-[40%] rounded-xl text-wrap overflow-hidden overflow-y-auto",id:"chatContainer",ref:l,children:a.map((c,h)=>{var g;const p=c.sentBy===x;return e.jsxs("div",{className:`flex space-x-2 m-4 border-2 border-blue-300 ${p?"flex-row-reverse space-x-reverse":"flex-row"} items-end w-fit rounded-md p-2 ${p?"bg-[#c0f3d7] ml-auto":"bg-[#87ceeb] mr-auto"}`,children:[e.jsx(q,{className:"size-8 border-2 border-gray-400 overflow-hidden",children:c.user.profilePic?e.jsx(Q,{src:c.profilePic}):e.jsx(G,{children:c.user.name?c.user.name.substring(0,2):"U"})}),e.jsxs("div",{className:"flex flex-col break-words max-w-sm",children:[e.jsxs("span",{className:`poppins-regular text-sm ${p?"text-right":"text-left"}`,children:[c.text," "]}),e.jsx(ae,{className:"bg-gray-400"}),e.jsxs("span",{className:`poppins-thin text-gray-500 text-xs ${p?"text-right":"text-left"}`,children:[e.jsx("span",{className:"poppins-semibold text-gray-600",children:c.user.userName})," ",new Date((g=c.sentAt)==null?void 0:g.toDate()).toLocaleString("en-US",{day:"2-digit",month:"2-digit",hour:"numeric",minute:"2-digit",hour12:!0})]})]})]},h)})})}),e.jsx(Ht,{className:"w-full",children:e.jsxs("div",{className:"flex flex-col items-center space-y-2 mt-0",children:[e.jsxs("div",{className:"flex flex-grow items-center  p-2 rounded-3xl bg-[#b0dde6] border-2 border-blue-400",children:[e.jsx("label",{htmlFor:"file-input",children:e.jsx("span",{className:"material-icons cursor-pointer text-blue-600",children:e.jsx(Va,{})})}),e.jsx("input",{id:"file-input",type:"file",className:"hidden"}),e.jsx("textarea",{className:"flex-grow poppins-light bg-transparent p-2 outline-none w-96 resize-none overflow-hidden",placeholder:"Type a message...",onInput:c=>ws(c.target),onKeyDown:c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),i(n.id),w(""))},value:N,onChange:c=>w(c.target.value),rows:1}),e.jsx("span",{className:"material-icons cursor-pointer text-green-500",onClick:()=>i(n.id),children:e.jsx(fs,{className:"text-green-600 size-7"})})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Us,{asChild:!0,children:e.jsx(F,{variant:"outline",className:"bg-[#87CEEB] poppins-semibold border-gray-600 border-2  text-black hover:bg-slate-300 border-dashed hover:border-double",onClick:f,children:"Close"})}),e.jsx(F,{className:"poppins-semibold hover:bg-red-200 hover:text-black border-gray-600 border-2  text-black border-dotted hover:border-double",variant:"destructive",onClick:()=>j(n.id),children:"Leave Group"})]})]})})]})]},n.id))})};function bl({className:s}){const t=B(d=>d.profile.name),[a,o]=r.useState(!1),l=async d=>{d.preventDefault(),o(!0);const u=new FormData(d.target),f=u.get("groupName"),v=u.get("groupIcon"),i=$(S,"groups"),y=A(i,M("name","==",f));if(!(await O(y)).empty){o(!1),alert("Group name already exists. Please enter a unique group name.");return}const w=xs().currentUser;if(!w){o(!1),console.error("No authenticated user found.");return}const x=w.uid;if(v instanceof File&&f){const j=Ne(Oe,`groupIcons/${v.name}`);gt(j,v).then(async n=>{const c=await we(n.ref),h=await ue($(S,"groups"),{name:f,icon:c,low_name:f.toString().toLowerCase(),createdBy:t,admin:x,createdAt:be()}),p=oe(S,`groups/${h.id}/members`,x);await bt(p,{uid:x,joinedAt:be(),role:"admin"});const g=A($(S,"users"),M("uid","==",x));(await O(g)).forEach(async P=>{await J(P.ref,{groups:gs(h.id)})}),T({className:"bg-[#87CEEB] poppins-bold",variant:"default",title:"Group Created Successfully!"}),o(!1),window.location.reload()}).catch(n=>{o(!1),T({className:"poppins-bold",variant:"destructive",title:"Error"+n.message}),console.error("Error: ",n)})}else o(!1),console.error("Group icon and name are required")};return e.jsx(e.Fragment,{children:a?e.jsx("div",{className:"flex justify-center items-center]",children:e.jsx(Be,{color:"#36d7b7"})}):e.jsxs("form",{className:b("grid items-start gap-4 poppins-regular",s),onSubmit:l,encType:"multipart/form-data",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(L,{htmlFor:"groupName",children:"Group Name"}),e.jsx(X,{type:"text",id:"groupName",placeholder:"Enter Group Name",required:!0,name:"groupName"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(L,{htmlFor:"groupIcon",children:"Group Icon"}),e.jsx(X,{type:"file",id:"groupIcon",name:"groupIcon",required:!0,accept:"image/*"})]}),e.jsx(F,{type:"submit",className:"bg-[#89CFF3] poppins-semibold border-2 border-gray-500 text-black hover:bg-blue-400 hover:text-white",children:"Create Group"})]})})}const jl=()=>{const[s,t]=r.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs(Ke,{open:s,onOpenChange:t,children:[e.jsx(We,{asChild:!0,children:e.jsx(F,{variant:"default",className:"bg-[#87CEEB] poppins-semibold border-gray-600 border-2 poppins-semibold text-black hover:bg-slate-300 border-dashed hover:border-double",children:"Create Discussion Group"})}),e.jsxs(ke,{className:"sm:max-w-[425px] bg-[#CDF5FD]",children:[e.jsxs(Ye,{children:[e.jsx(Ce,{className:"poppins-bold",style:{letterSpacing:"0.3px"},children:"Create a Group"}),e.jsx(Qe,{className:"poppins-light",children:"Create a group and get in touch with people."})]}),e.jsx(bl,{})]})]})})},yl=()=>{const[s,t]=r.useState(""),[a,o]=r.useState([]),[l,d]=r.useState(!1),u=y=>{y.code==="Enter"&&f()},f=async()=>{if(s)try{const y=A($(S,"groups"),M("low_name",">=",s)),m=await O(y);if(m.empty)d(!0),console.error("Group document not found in Firestore"),o([]);else{const N=m.docs.map(w=>({...w.data(),id:w.id}));o(N),d(!1)}}catch(y){d(!0),console.error("Error fetching Group data from Firestore:",y)}};r.useEffect(()=>{s.length===0&&(d(!1),o([])),f()},[s]);const v=r.useRef(null);r.useEffect(()=>{function y(m){v.current&&!v.current.contains(m.target)&&(o([]),t(""),d(!1))}return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[v]);const i=async y=>{try{const m=localStorage.getItem("uid"),N=A($(S,"users"),M("uid","==",m)),w=await O(N),x=w.docs[0];if(w.empty)return;await J(x.ref,{groups:gs(y)});const j=`groups/${y}/members/${m}`,n=oe(S,j);await bt(n,{uid:m,joinedAt:be(),role:"member"}),window.location.reload()}catch(m){console.error("Error joining group:",m)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex flex-col w-full",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute right-3 top-2 cursor-pointer",onClick:f,children:e.jsx(ve,{className:"text-gray-600"})}),e.jsx(X,{className:"pl-4 w-full poppins-light bg-slate-300 text-xs rounded-xl placeholder:text-muted-foreground border-2 border-blue-400 text-md focus-visible:ring-0 focus-visible:ring-offset-0 outline-none",placeholder:"Find a group...",onKeyUp:u,onChange:y=>t(y.target.value),value:s})]}),l&&e.jsx("div",{className:" absolute  z-10 mt-12 flex flex-col items-center w-full",ref:v,children:e.jsx("div",{className:"mt-2 border border-solid border-red-600 w-full h-12 poppins-regular text-center text-red-600 bg-white shadow-lg divide-y divide-gray-200 rounded-lg overflow-hidden",children:e.jsx("span",{children:"Group not found."})})}),a.length>0&&e.jsx("div",{ref:v,className:"absolute z-10 left-10 flex flex-col items-center justify-center w-full mt-8",children:e.jsx("div",{className:"mt-3 w-[140%] bg-white shadow-lg divide-y divide-gray-200 rounded-lg overflow-hidden",children:a.map(y=>e.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer  ",children:e.jsxs("div",{className:"flex space-x-2 items-center",children:[e.jsx("div",{children:e.jsxs(q,{className:"size-10 border-2",children:[e.jsx(Q,{src:y.icon||"default-avatar-url"}),e.jsx(G,{children:y.name[0]})]})}),e.jsxs("div",{className:"flex w-full justify-between items-center",children:[e.jsxs("article",{className:"w-[80%] flex flex-col items-start ",children:[e.jsx("h3",{className:"text-sm poppins-semibold text-gray-600",children:y.name}),e.jsxs("span",{className:"text-xs poppins-light text-slate-500",children:["Created By ",y.createdBy]}),e.jsxs("span",{className:"text-xs poppins-extralight",children:["Created on"," ",new Date(y.createdAt.toDate()).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]})]}),e.jsx(F,{className:"rounded-3xl poppins-semibold text-black  bg-[#87CEEB] border-gray-600 hover:bg-slate-400 hover:text-white",onClick:()=>i(y.id),children:"Join"})]})]})},y.id))})})]})})},vl=()=>{const[s,t]=r.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex space-x-2 items-center justify-center",children:[s&&e.jsx(yl,{}),s?e.jsx(F,{className:"w-fit poppins-semibold border-dashed border-2 bg-[#87CEEB] border-gray-600 text-black hover:bg-slate-300 hover:border-double",onClick:()=>t(!s),children:"Find Groups"}):e.jsx(F,{className:"w-full poppins-semibold border-dashed border-2 bg-[#87CEEB] border-gray-600 text-black hover:bg-slate-300 hover:border-double",onClick:()=>t(!s),children:"Find Groups"})]})})},Nl=()=>e.jsx(F,{className:"bg-[#87CEEB] border-gray-400 text-black hover:bg-slate-300 hover:border-double hover:border-black border-2",children:e.jsx(za,{})});function wl(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col w-full sm:w-[22%] mt-2 space-y-2 p-4 max-sm:hidden",children:[e.jsx(jl,{}),e.jsx(ae,{className:"bg-gray-300"}),e.jsx(vl,{}),e.jsx(ae,{className:"bg-gray-300"}),e.jsxs("div",{className:"flex flex-col h-auto sm:h-fit text-wrap items-start space-y-2 p-2 border-2 border-blue-200 shadow-xl rounded-3xl overflow-y-auto overflow-x-hidden bg-[#87CEEB]",children:[e.jsxs("div",{className:"poppins-semibold flex justify-between items-center bg-white p-2 px-4 w-full text-lg rounded-xl bg-opacity-80 backdrop-filter backdrop-blur shadow-inner",children:["Discussions",e.jsx(Nl,{})]}),e.jsx(gl,{})]})]})})}function kl(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col w-full h-full overflow-visible overflow-x-hidden space-y-16",children:[e.jsx("div",{className:"fixed z-50 w-full",children:e.jsx(xl,{})}),e.jsxs("div",{className:"flex h-[95%] w-full bg-[#dfe3ee] justify-center overflow-auto [&::-webkit-scrollbar]:hidden max-sm:block",children:[e.jsx(Xr,{}),e.jsx("div",{className:"flex flex-col space-y-2 items-center justify-center w-[50%] border-l-2 border-r-2 border-gray-400 text-white text-xl max-sm:w-full",children:e.jsx(ms,{})}),e.jsx(wl,{})]})]})})}const Cl=()=>{const[s,t]=r.useState([]),[a,o]=r.useState(""),[l,d]=r.useState(!1),u=B(n=>n.profile.name),f=B(n=>n.profile.userId),v=B(n=>n.profile.category),i=B(n=>n.profile.picture),y=n=>{if(n.target.files){const c=Array.from(n.target.files);t(h=>[...h,...c])}},m=n=>{t(c=>c.filter((h,p)=>p!==n))},N=async(n,c)=>{if(n.trim().length===0&&c.empty||!f){T({className:"bg-[#87CEEB] poppins-bold",variant:"destructive",title:"Posts cannot be empty"});return}d(!0);const p=(await Promise.all(c.map(async g=>{if(g.type.startsWith("image/"))try{const D=await Ha(g,{maxSizeMB:1,maxWidthOrHeight:640,useWebWorker:!0,preserveExif:!0,initialQuality:.4});return w(D)}catch(D){return console.error("Error compressing the image:",D),null}else return g.type.startsWith("video/")?w(g):(console.error("Unsupported file type:",g.type),null)}))).filter(g=>g!==null);try{await ue($(S,"posts"),{userId:f,content:n.trim(),fileUrls:p,createdAt:be(),userName:u,category:v,userPic:i}),T({className:"bg-[#87CEEB] poppins-bold",variant:"default",title:"Hurrah! Posted Successfully",description:"Your post has been published."})}catch(g){console.error("Error creating post:",g),T({className:"poppins-bold",variant:"destructive",title:"Oh! Something went wrong.",description:"Post cannot be empty."})}finally{d(!1)}},w=async n=>{const c=Ne(Oe,`posts/${f}/${Date.now()}_${n.name}`),h=await hs(c,n);return we(h.ref)},x=async n=>{if(n.preventDefault(),d(!0),a.length==0&&s.length==0){d(!1),T({className:"poppins-bold",variant:"destructive",title:"Post cannot be empty."});return}await N(a,s),o(""),t([]),d(!1)},j=n=>{n.style.height="inherit",n.style.height=`${n.scrollHeight}px`};return e.jsx("div",{className:"w-[90%] h-fit",children:l?e.jsx("div",{className:"flex justify-center items-center]",children:e.jsx(Be,{color:"#36d7b7"})}):e.jsxs(ze,{className:"border-2 shadow-2xl bg-[#c2e5f3]  border-gray-500 rounded-3xl",children:[e.jsx(_e,{children:e.jsx(He,{children:e.jsxs("div",{className:"poppins-bold text-gray-900 flex flex-col",children:[e.jsx("span",{children:"Write Your Thoughts"}),e.jsx("span",{className:"text-sm poppins-light",children:u})]})})}),e.jsxs(qe,{className:"items-center flex flex-col space-y-6",children:[e.jsx(ks,{className:"poppins-extralight px-6 placeholder:text-muted-foreground resize-none text-md bg-slate-100 rounded-3xl border-[2px] overflow-hidden border-[#cce9f5] focus-visible:ring-slate-100 focus-visible:ring-0 focus-visible:ring-offset-0  text-gray focus-within:border-blue-700 transition-all duration-2000 text-gray outline-none shadow-inner",onKeyUp:n=>j(n.target),value:a,onChange:n=>o(n.target.value),placeholder:"Empower your voice, inspire the minds..."}),s.length!==0&&e.jsxs(Cs,{className:"max-w-sm mx-auto",plugins:[st({delay:5e3})],children:[e.jsx(Ss,{children:s.map((n,c)=>e.jsx(Es,{children:e.jsxs("div",{className:"relative rounded-md overflow-hidden h-auto",children:[s[c].type.startsWith("image/")?e.jsx("img",{src:URL.createObjectURL(n),alt:"Selected File",className:"w-full h-full object-cover"}):s[c].type.startsWith("video/")?e.jsx("video",{controls:!0,className:"w-full h-full object-cover",children:e.jsx("source",{src:URL.createObjectURL(n),type:s[c].type})}):e.jsx("p",{children:"Unsupported file type"}),e.jsx("button",{className:"absolute top-0 right-0 bg-transparent text-black border-2 border-gray-300 hover:bg-blue-50 cursor-pointer m-2",onClick:()=>m(c),children:e.jsx(ie,{})})]})},c))}),s&&s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(Ds,{}),e.jsx(Rs,{})]})]})]}),e.jsxs(Ge,{className:"flex justify-center space-x-4",children:[e.jsxs("label",{htmlFor:"photoVid",className:"",children:[e.jsxs("span",{className:"poppins-semibold bg-blue-200 flex items-center text-md px-2 py-2 h-10 text-blue-500 border-blue-400 border-2 rounded-md hover:bg-blue-50 cursor-pointer",children:[e.jsx(ps,{className:"pr-1 text-blue-900"}),"Photo/Video"]}),e.jsx("input",{type:"file",id:"photoVid",className:"hidden",accept:"image/*,video/*",onChange:y})]}),e.jsxs(F,{className:"poppins-semibold bg-red-100 text-md px-2 py-2 h-10 text-red-500 border-red-400 border-2 rounded-md hover:bg-blue-50 cursor-pointer",onClick:x,children:[e.jsx(_a,{className:"pr-1"}),"Post"]})]})]})})};function Sl(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full h-full mt-[4%] space-y-4 flex  border-gray-400 flex-col items-center",children:[e.jsx(Cl,{}),e.jsx(Rt,{fetchId:"",fetchAll:!0})]})})}const El=jt.memo(Sl),Dl=je("inline-flex items-center rounded-full border border-slate-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 dark:border-slate-800 dark:focus:ring-slate-300",{variants:{variant:{default:"border-transparent bg-slate-900 text-slate-50 hover:bg-slate-900/80 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/80",secondary:"border-transparent bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",destructive:"border-transparent bg-red-500 text-slate-50 hover:bg-red-500/80 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/80",outline:"text-slate-950 dark:text-slate-50"}},defaultVariants:{variant:"default"}});function Rl({className:s,variant:t,...a}){return e.jsx("div",{className:b(Dl({variant:t}),s),...a})}const Kt=r.forwardRef(({className:s,...t},a)=>e.jsx(_,{ref:a,className:b("flex h-full w-full flex-col overflow-hidden rounded-md bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",s),...t}));Kt.displayName=_.displayName;const Fl=r.forwardRef(({className:s,...t},a)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(ve,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(_.Input,{ref:a,className:b("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-slate-500 disabled:cursor-not-allowed disabled:opacity-50 dark:placeholder:text-slate-400",s),...t})]}));Fl.displayName=_.Input.displayName;const Wt=r.forwardRef(({className:s,...t},a)=>e.jsx(_.List,{ref:a,className:b("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...t}));Wt.displayName=_.List.displayName;const Il=r.forwardRef((s,t)=>e.jsx(_.Empty,{ref:t,className:"py-6 text-center text-sm",...s}));Il.displayName=_.Empty.displayName;const Yt=r.forwardRef(({className:s,...t},a)=>e.jsx(_.Group,{ref:a,className:b("overflow-hidden p-1 text-slate-950 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-slate-500 dark:text-slate-50 dark:[&_[cmdk-group-heading]]:text-slate-400",s),...t}));Yt.displayName=_.Group.displayName;const $l=r.forwardRef(({className:s,...t},a)=>e.jsx(_.Separator,{ref:a,className:b("-mx-1 h-px bg-slate-200 dark:bg-slate-800",s),...t}));$l.displayName=_.Separator.displayName;const xe=r.forwardRef(({className:s,...t},a)=>e.jsx(_.Item,{ref:a,className:b("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-[selected='true']:bg-slate-300 aria-[selected='true']:text-accent-foreground data-[disabled='true']:pointer-events-none data-[disabled='true']:opacity-50 dark:aria-selected:bg-slate-800 dark:aria-selected:text-slate-50",s),...t}));xe.displayName=_.Item.displayName;function Pl(s,t){const[a,o]=r.useState(s);return r.useEffect(()=>{const l=setTimeout(()=>o(s),t||500);return()=>{clearTimeout(l)}},[s,t]),a}function os(s,t){if(s.length===0)return{};if(!t)return{"":s};const a={};return s.forEach(o=>{const l=o[t]||"";a[l]||(a[l]=[]),a[l].push(o)}),a}function Tl(s,t){const a=JSON.parse(JSON.stringify(s));for(const[o,l]of Object.entries(a))a[o]=l.filter(d=>!t.find(u=>u.value===d.value));return a}function Ll(s,t){for(const[a,o]of Object.entries(s))if(console.log("i",a),o.some(d=>t.find(u=>u.value===d.value)))return!0;return!1}const Qt=r.forwardRef(({className:s,...t},a)=>qa(l=>l.filtered.count===0)?e.jsx("div",{ref:a,className:b("py-6 text-center text-sm",s),"cmdk-empty":"",role:"presentation",...t}):null);Qt.displayName="CommandEmpty";const Jt=r.forwardRef(({value:s,onChange:t,placeholder:a,defaultOptions:o=[],options:l,delay:d,onSearch:u,loadingIndicator:f,emptyIndicator:v,maxSelected:i=Number.MAX_SAFE_INTEGER,onMaxSelected:y,hidePlaceholderWhenSelected:m,disabled:N,groupBy:w,className:x,badgeClassName:j,selectFirstItem:n=!0,creatable:c=!1,triggerSearchOnFocus:h=!1,commandProps:p,inputProps:g},D)=>{const P=r.useRef(null),[E,U]=r.useState(!1),[K,W]=r.useState(!1),[I,re]=r.useState(s||[]),[Y,ce]=r.useState(os(o,w)),[se,me]=r.useState(""),ne=Pl(se,d||500);r.useImperativeHandle(D,()=>({selectedValue:[...I],input:P.current}),[I]);const de=r.useCallback(k=>{const C=I.filter(V=>V.value!==k.value);re(C),t==null||t(C)},[t,I]),Ze=r.useCallback(k=>{const C=P.current;C&&((k.key==="Delete"||k.key==="Backspace")&&C.value===""&&I.length>0&&de(I[I.length-1]),k.key==="Escape"&&C.blur())},[de,I]);r.useEffect(()=>{s&&re(s)},[s]),r.useEffect(()=>{if(!l||u)return;const k=os(l||[],w);JSON.stringify(k)!==JSON.stringify(Y)&&ce(k)},[o,l,w,u,Y]),r.useEffect(()=>{const k=async()=>{W(!0);const V=await(u==null?void 0:u(ne));ce(os(V||[],w)),W(!1)};(async()=>{!u||!E||(h&&await k(),ne&&await k())})()},[ne,w,E,h]);const Xe=()=>{if(!c||Ll(Y,[{value:se,label:se}])||I.find(C=>C.value===se))return;const k=e.jsx(xe,{value:se,className:"cursor-pointer",onMouseDown:C=>{C.preventDefault(),C.stopPropagation()},onSelect:C=>{if(I.length>=i){y==null||y(I.length);return}me("");const V=[...I,{value:C,label:C}];re(V),t==null||t(V)},children:`Create "${se}"`});if(!u&&se.length>0||u&&ne.length>0&&!K)return k},es=r.useCallback(()=>{if(v)return u&&!c&&Object.keys(Y).length===0?e.jsx(xe,{value:"-",disabled:!0,children:v}):e.jsx(Qt,{children:v})},[c,v,u,Y]),ss=r.useMemo(()=>Tl(Y,I),[Y,I]),R=r.useCallback(()=>{if(p!=null&&p.filter)return p.filter;if(c)return(k,C)=>k.toLowerCase().includes(C.toLowerCase())?1:-1},[c,p==null?void 0:p.filter]);return e.jsxs(Kt,{...p,onKeyDown:k=>{var C;Ze(k),(C=p==null?void 0:p.onKeyDown)==null||C.call(p,k)},className:b("overflow-visible bg- border-2 border-gray-400",p==null?void 0:p.className),shouldFilter:(p==null?void 0:p.shouldFilter)!==void 0?p.shouldFilter:!u,filter:R(),children:[e.jsx("div",{className:b("group rounded-md border border-input px-3 py-2 text-sm ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",x),children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[I.map(k=>e.jsxs(Rl,{className:b("data-[disabled]:bg-muted-foreground data-[disabled]:text-muted data-[disabled]:hover:bg-muted-foreground","data-[fixed]:bg-muted-foreground data-[fixed]:text-muted data-[fixed]:hover:bg-muted-foreground",j),"data-fixed":k.fixed,"data-disabled":N,children:[k.label,e.jsx("button",{className:b("ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",(N||k.fixed)&&"hidden"),onKeyDown:C=>{C.key==="Enter"&&de(k)},onMouseDown:C=>{C.preventDefault(),C.stopPropagation()},onClick:()=>de(k),children:e.jsx(ie,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},k.value)),e.jsx(_.Input,{...g,ref:P,value:se,disabled:N,onValueChange:k=>{var C;me(k),(C=g==null?void 0:g.onValueChange)==null||C.call(g,k)},onBlur:k=>{var C;U(!1),(C=g==null?void 0:g.onBlur)==null||C.call(g,k)},onFocus:k=>{var C;U(!0),h&&(u==null||u(ne)),(C=g==null?void 0:g.onFocus)==null||C.call(g,k)},placeholder:m&&I.length!==0?"":a,className:b("ml-2 flex-1 bg-transparent poppins-semibold outline-none placeholder:text-muted-foreground",g==null?void 0:g.className)})]})}),e.jsx("div",{className:"relative mt-2",children:E&&e.jsx(Wt,{className:"absolute top-0 z-10 w-full rounded-md border cursor-pointer bg-sky-300 border-black text-popover-foreground shadow-md outline-none animate-in",children:K?e.jsx(e.Fragment,{children:f}):e.jsxs(e.Fragment,{children:[es(),Xe(),!n&&e.jsx(xe,{value:"-",className:"hidden"}),Object.entries(ss).map(([k,C])=>e.jsx(Yt,{heading:k,className:"h-full overflow-auto ",children:e.jsx(e.Fragment,{children:C.map(V=>e.jsx(xe,{value:V.value,disabled:V.disable,onMouseDown:te=>{te.preventDefault(),te.stopPropagation()},onSelect:()=>{if(I.length>=i){y==null||y(I.length);return}me("");const te=[...I,V];re(te),t==null||t(te)},className:b("cursor-pointer",V.disable&&"cursor-default text-muted-foreground"),children:V.label},V.value))})},k))]})})})]})});Jt.displayName="MultipleSelector";const Al=[{label:"Artificial Intelligence",value:"ai"},{label:"Machine Learning",value:"ML"},{label:"Development",value:"development"},{label:"Networking",value:"networking"},{label:"Robotics",value:"robotics"},{label:"Blockchain",value:"blockchain"}],Ul=({onDomainChange:s})=>{const[t,a]=jt.useState([]),o=l=>{a(l),s(l.map(d=>d.value))};return e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs("p",{className:"text-xs",children:['(Navigate through arrow key and select by pressing "Enter")',e.jsxs("p",{children:[e.jsx("strong",{children:"Selected Interests: "})," ",t.map(l=>l.label).join(", ")]})]}),e.jsx(Jt,{value:t,onChange:o,defaultOptions:Al,placeholder:"Select your domain...",emptyIndicator:e.jsx("p",{className:"text-center text-lg leading-10 text-gray-600 dark:text-gray-900",children:"no results found."})})]})};function Bl(){const[s,t]=r.useState(""),[a,o]=r.useState(""),[l,d]=r.useState(""),[u,f]=r.useState(""),[v,i]=r.useState(""),[y,m]=r.useState(!1),[N,w]=r.useState(null),[x,j]=r.useState("cs"),[n,c]=r.useState("student"),[h,p]=r.useState("comsats"),g=ye(),[D,P]=r.useState(!1),[E,U]=r.useState(""),[K,W]=r.useState([]),I=Ve(),re=R=>{W(R)};r.useEffect(()=>{ce()},[u,v]);const Y=()=>{P(!D)},ce=()=>{u&&(u.length<6?U("Password must be at least 8 characters long."):U(""))},se=()=>{u!==v?(U("Passwords do not match."),T({className:"poppins-bold",variant:"destructive",title:"Passwords do not match."})):u===v?T({className:"bg-[#87CEEB] poppins-bold",variant:"default",title:"Password Matched!"}):U("")},me=()=>s?/^(?![0-9]*$)[a-zA-Z0-9]+$/.test(s)?(U(""),!0):(U("Username must be alphanumeric and not numeric-only."),T({className:"poppins-bold",variant:"destructive",title:"Username must be alphanumeric and not numeric-only."}),!1):(U("Username is required."),!1),ne=()=>a?/^[a-zA-Z\s]+$/.test(a)?(U(""),!0):(U("Name should contain only letters and spaces."),T({className:"poppins-bold",variant:"destructive",title:"Name should contain only letters and spaces."}),!1):(U("Name is required."),!1);r.useEffect(()=>{me(),ne()},[s,a]),r.useEffect(()=>{v.length!=0&&se()},[v]);const de=R=>{f(R.target.value),setTimeout(ce,500)},Ze=R=>{i(R.target.value),setTimeout(ce,500)},Xe=R=>{const k=R.target.files;k&&k[0]&&w(k[0])},es=async R=>{if(N==null){alert("please select a user avatar");return}else if(u!=v){U("Passwords do not match.");return}else{R.preventDefault(),m(!0);try{const C=(await Ka(Me,l,u)).user;await Wa(C),alert("Please Verify Your Email."),(async()=>{let te=0;const ts=12e5,Se=setInterval(async()=>{await Ya(C),C.emailVerified?(clearInterval(Se),ss(C)):(te+=3e3,te>=ts&&(clearInterval(Se),C.delete().then(()=>{alert("Email verification timeout. Your registration has been canceled. Please try registering again."),m(!1),g("/signup")}).catch(ta=>{console.error("Error removing user: ",ta),alert("An error occurred while canceling your registration. Please try again."),m(!1)})))},3e3)})()}catch(k){m(!1),T({className:"poppins-bold",variant:"destructive",title:"Registration Failed!",description:k.message})}}},ss=async R=>{let k="";if(N){const ts=Ne(Oe,`profilePictures/${R.uid}`),Se=await gt(ts,N);k=await we(Se.ref)}const C=a.toLowerCase(),V=await ue($(S,"users"),{uid:R.uid,userName:s,email:R.email,name:a,category:x,low_name:C,ProfilePic:k,University:h,Domains:K,userRole:n,posts:[],groups:[],files:[]}),te=V.id;await J(V,{docId:te}),localStorage.setItem("uid",R.uid),localStorage.setItem("category",x),localStorage.setItem("token",JSON.stringify(R.getIdToken)),localStorage.setItem("user",JSON.stringify(R)),I(Ns(x)),I(vs(s)),I(St(R.uid)),I(ys(k)),alert("Registration Successful."),g("/")};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"bg-transparent min-h-screen flex flex-col items-center justify-center poppins-regular bg-[#dfe3ee]",children:[e.jsxs("div",{className:"lg:flex pb-4 poppins-black md:block",children:[e.jsx("h1",{className:"text-sky-500 text-6xl",children:"Smart"}),e.jsx("h1",{className:"text-black text-6xl",children:"EduHub"})]}),y?e.jsx("div",{className:"fixed inset-0 flex justify-center items-center bg-[rgba(255,255,255,0.8)]",children:e.jsx(Pe,{color:"#36d7b7"})}):e.jsxs("div",{className:"bg-gray-100 flex rounded-3xl shadow-2xl max-w-3xl p-5 items-center",children:[e.jsxs("div",{className:"md:w-1/2 px-8 md:px-16",children:[e.jsx("h2",{className:"font-bold text-2xl text-[#002D74]",children:"SignUp"}),e.jsx("p",{className:"text-xs mt-4 text-[#002D74]",children:"Create your space in a world where every voice matters. Sign up and make yours heard!"}),e.jsxs("form",{onSubmit:es,className:"flex flex-col gap-1",children:[e.jsx("input",{className:"hidden",type:"file",id:"profilePic",accept:"image/*",onChange:Xe}),e.jsxs("label",{htmlFor:"profilePic",className:"flex items-center space-x-2 justify-center font-thin font-sans text-base mt-2 border-2 border-gray-400 rounded-full",children:[e.jsx(ps,{className:"text-blue-300"}),e.jsx("span",{children:"Add an avatar"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{required:!0,id:"userName",type:"text",className:"w-60 pl-10 pr-4 py-2 rounded-xl border-2 shadow-lg text-black dark:bg-gray-50",placeholder:"Username",value:s,onChange:R=>t(R.target.value)}),e.jsx("div",{className:`absolute inset-y-0 left-0 pl-3  \r
                    flex items-center  \r
                    pointer-events-none`,children:e.jsx(Ga,{className:"text-gray-600"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{required:!0,type:"text",id:"Name",className:"w-60 pl-10 pr-4 py-2 rounded-xl border-2 shadow-lg text-black dark:bg-gray-50",placeholder:"Full Name",value:a,onChange:R=>o(R.target.value)}),e.jsx("div",{className:`absolute inset-y-0 left-0 pl-3  \r
                    flex items-center  \r
                    pointer-events-none`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 text-gray-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{required:!0,id:"Email",type:"email",className:"w-60 pl-10 pr-4 py-2 rounded-xl border-2 shadow-lg text-black dark:bg-gray-50",placeholder:"Your Email",value:l,onChange:R=>d(R.target.value)}),e.jsx("div",{className:`absolute inset-y-0 left-0 pl-3  \r
                    flex items-center  \r
                    pointer-events-none`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 text-gray-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})})]}),e.jsxs("div",{children:[E&&e.jsx("div",{className:"text-red-500 text-sm mb-2",children:E}),e.jsxs("div",{className:"relative mb-1",children:[e.jsx("input",{required:!0,id:"pass",type:D?"text":"password",className:"w-60 pl-10 pr-10 py-2 rounded-xl border shadow-lg text-black dark:bg-gray-50",placeholder:"Password",value:u,onChange:de}),e.jsx("button",{type:"button",onClick:Y,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:D?e.jsx(ns,{className:"w-6 h-6 text-gray-600"}):e.jsx(is,{className:"w-6 h-6 text-gray-600"})}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 text-gray-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{required:!0,id:"cpass",type:D?"text":"password",className:"w-60 pl-10 pr-10 py-2 rounded-xl border shadow-lg text-black dark:bg-gray-50",placeholder:"Confirm Password",value:v,onChange:Ze}),e.jsx("button",{type:"button",onClick:Y,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:D?e.jsx(ns,{className:"w-6 h-6 text-gray-600"}):e.jsx(is,{className:"w-6 h-6 text-gray-600"})}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 text-gray-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})})})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm poppins-semibold",children:"Choose your role:"}),e.jsxs(he,{defaultValue:"student",className:"flex space-x-0",onChange:R=>c(R.target.value),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"student",id:"student"}),e.jsx(L,{htmlFor:"student",children:"Student"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"teacher",id:"teacher"}),e.jsx(L,{htmlFor:"teacher",children:"Teacher"})]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm poppins-semibold",children:"Choose your department:"}),e.jsxs(he,{defaultValue:"cs",className:"flex space-x-0",onChange:R=>j(R.target.value),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"cs",id:"cs"}),e.jsx(L,{htmlFor:"cs",children:"CS"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"ee",id:"ee"}),e.jsx(L,{htmlFor:"ee",children:"EE"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"bba",id:"bba"}),e.jsx(L,{htmlFor:"bba",children:"BBA"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"civ",id:"civ"}),e.jsx(L,{htmlFor:"civ",children:"CIV"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"mec",id:"mec"}),e.jsx(L,{htmlFor:"mec",children:"MEC"})]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm poppins-semibold",children:"Choose your university:"}),e.jsxs(he,{defaultValue:"comsats",className:"flex space-x-0",onChange:R=>p(R.target.value),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"comsats",id:"comsats"}),e.jsx(L,{htmlFor:"comsats",children:"COMSATS"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"fast",id:"fast"}),e.jsx(L,{htmlFor:"fast",children:"FAST"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"nust",id:"nust"}),e.jsx(L,{htmlFor:"nust",children:"NUST"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{value:"uet",id:"uet"}),e.jsx(L,{htmlFor:"uet",children:"UET"})]})]})]}),e.jsx(Ul,{onDomainChange:re}),e.jsx("button",{type:"submit",className:"bg-[#002D74] rounded-xl poppins-semibold text-white py-2 hover:scale-105 duration-300",children:"Sign Up"})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 items-center text-gray-400",children:[e.jsx("hr",{className:"border-gray-400"}),e.jsx("p",{className:"text-center text-sm",children:"OR"}),e.jsx("hr",{className:"border-gray-400"})]}),e.jsxs("div",{className:"mt-2 text-xs flex justify-between items-center text-[#002D74]",children:[e.jsx("p",{children:"Have an account?"}),e.jsx(H,{to:"/login",children:e.jsx("button",{className:"py-2 px-5 bg-sky-300 poppins-semibold border rounded-xl hover:scale-110 duration-300",children:"Sign in"})})]})]}),e.jsx("div",{className:"md:block hidden w-1/2",children:e.jsx("img",{className:"rounded-2xl",src:bs})})]})]})})}const Zt=r.forwardRef(({className:s,...t},a)=>e.jsx("div",{className:"relative w-full overflow-y-auto overflow-x-hidden",children:e.jsx("table",{ref:a,className:b("w-full caption-bottom text-sm",s),...t})}));Zt.displayName="Table";const Xt=r.forwardRef(({className:s,...t},a)=>e.jsx("thead",{ref:a,className:b("[&_tr]:border-b",s),...t}));Xt.displayName="TableHeader";const ea=r.forwardRef(({className:s,...t},a)=>e.jsx("tbody",{ref:a,className:b("[&_tr:last-child]:border-0",s),...t}));ea.displayName="TableBody";const Ml=r.forwardRef(({className:s,...t},a)=>e.jsx("tfoot",{ref:a,className:b("border-t bg-slate-100/50 poppins-medium [&>tr]:last:border-b-0 dark:bg-slate-800/50",s),...t}));Ml.displayName="TableFooter";const Ie=r.forwardRef(({className:s,...t},a)=>e.jsx("tr",{ref:a,className:b("border-b  transition-colors hover:bg-slate-100/50 data-[state=selected]:bg-slate-100 dark:hover:bg-slate-800/50 dark:data-[state=selected]:bg-slate-800",s),...t}));Ie.displayName="TableRow";const sa=r.forwardRef(({className:s,...t},a)=>e.jsx("th",{ref:a,className:b("h-12 px-4 text-left align-middle poppins-medium text-slate-600 [&:has([role=checkbox])]:pr-0 dark:text-slate-400",s),...t}));sa.displayName="TableHead";const us=r.forwardRef(({className:s,...t},a)=>e.jsx("td",{ref:a,className:b("p-2 border-2 border-gray-200 poppins-regular align-middle [&:has([role=checkbox])]:pr-0",s),...t}));us.displayName="TableCell";const Ol=r.forwardRef(({className:s,...t},a)=>e.jsx("caption",{ref:a,className:b("mt-4 text-sm text-slate-500 dark:text-slate-400",s),...t}));Ol.displayName="TableCaption";const Bs=[{accessorKey:"name",header:"User Name",cell:({row:s})=>e.jsx(H,{to:`/Profile/${s.original.uid}`,children:e.jsxs("div",{className:"capitalize flex items-center space-x-2 poppins-semibold",children:[e.jsxs(q,{className:"size-10 border-2 border-gray-600",children:[e.jsx(Q,{src:s.original.ProfilePic}),e.jsx(G,{children:s.original.name?s.original.name[0]:"U"})]}),e.jsx("span",{children:s.getValue("name")})]})})},{accessorKey:"userRole",header:({column:s})=>e.jsxs(F,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Role",e.jsx(Ja,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>e.jsx("div",{className:"capitalize",children:s.getValue("userRole")})},{accessorKey:"University",header:"University",cell:({row:s})=>e.jsx("div",{className:"capitalize",children:s.getValue("University")})},{accessorKey:"Domains",header:()=>e.jsx("div",{className:"text-right",children:"Domains"}),cell:({row:s})=>{const t=s.getValue("Domains");return e.jsx("div",{className:"text-right",children:Array.isArray(t)&&t.length>0?t.map((a,o)=>e.jsx("div",{className:"capitalize",children:a},o)):e.jsx("div",{children:"No domains"})})}},{accessorKey:"uid",header:()=>e.jsx("div",{className:"text-right",children:"Profile"}),cell:({row:s})=>{const t=s.getValue("uid");return e.jsx("div",{className:"text-right",children:e.jsx(H,{to:`/Profile/${t}`,className:"no-underline text-black",children:e.jsxs(F,{className:"bg-[#87CEEB] flex items-center text-xs poppins-semibold border-gray-600 border-2  text-black hover:bg-slate-300 border-dashed hover:border-double",children:[e.jsx(tt,{className:"size-4"}),"Profile"]})})})}}];function Vl(){var N,w;const[s,t]=r.useState([]),[a,o]=r.useState([]),[l,d]=r.useState([]),[u,f]=r.useState({}),[v,i]=r.useState({}),y=B(x=>x.profile.userId),m=Qa({data:s,columns:Bs,onSortingChange:o,onColumnFiltersChange:d,getCoreRowModel:Za(),getPaginationRowModel:Xa(),getSortedRowModel:er(),getFilteredRowModel:sr(),onColumnVisibilityChange:f,onRowSelectionChange:i,state:{sorting:a,columnFilters:l,columnVisibility:u,rowSelection:v}});return r.useEffect(()=>{(async()=>{try{const j=$(S,"users"),n=await O(A(j,M("uid","!=",y))),c=[];n.forEach(h=>{const p=h.data();c.push(p)}),console.log("Data",c),t(c)}catch(j){console.error("Error fetching data from Firebase:",j)}})()},[m]),e.jsxs("div",{className:"w-[92%] bg-[#c2e5f3]  p-4 mt-6 text-black border-2 border-blue-500 rounded-xl",children:[e.jsxs("div",{className:"flex items-center py-3 space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-2 top-2 cursor-pointer",children:e.jsx(ve,{className:"text-gray-600"})}),e.jsx(X,{placeholder:"Search Users...",value:((N=m.getColumn("name"))==null?void 0:N.getFilterValue())??"",onChange:x=>{var j;return(j=m.getColumn("name"))==null?void 0:j.setFilterValue(x.target.value)},className:"max-w-sm pl-8 poppins-light border-2 border-blue-400 text-black focus:bg-slate-100 focus-visible:ring-0 focus-visible:ring-offset-0 outline-none focus-visible:border-sky-800"})]}),e.jsxs(Re,{children:[e.jsx(Fe,{asChild:!0,children:e.jsxs(F,{variant:"outline",className:"ml-auto border-2 border-gray-800 poppins-light bg-[#85cfed] border-dashed hover:border-double",children:["Columns ",e.jsx(as,{className:"ml-2 h-4 w-4"})]})}),e.jsx(fe,{align:"end",children:m.getAllColumns().filter(x=>x.getCanHide()&&x.id!=="uid").map(x=>e.jsx($t,{className:"capitalize",checked:x.getIsVisible(),onCheckedChange:j=>x.toggleVisibility(!!j),children:x.id},x.id))})]}),e.jsxs(Re,{children:[e.jsx(Fe,{asChild:!0,children:e.jsxs(F,{variant:"outline",className:"ml-auto border-2 border-gray-800 poppins-light bg-[#87CEEB] border-dashed hover:border-double",children:["Filter by Role ",e.jsx(as,{className:"ml-2 h-4 w-4"})]})}),e.jsxs(fe,{align:"end",children:[s&&s.length>0&&Array.from(new Set(s.map(x=>x.userRole))).filter(x=>x!=null).map(x=>{const j=x.charAt(0).toUpperCase()+x.slice(1).toLowerCase();return e.jsx(le,{onClick:()=>{var n;(n=m.getColumn("userRole"))==null||n.setFilterValue(x)},children:j},x)}),e.jsx(le,{onClick:()=>{var x;(x=m.getColumn("userRole"))==null||x.setFilterValue("")},children:"Show All"})]})]}),e.jsxs(Re,{children:[e.jsx(Fe,{asChild:!0,children:e.jsxs(F,{variant:"outline",className:"ml-auto border-2 border-gray-800 poppins-light bg-[#87CEEB] border-dashed hover:border-double",children:["Filter by University ",e.jsx(as,{className:"ml-2 h-4 w-4"})]})}),e.jsxs(fe,{align:"end",children:[s&&s.length>0&&Array.from(new Set(s.map(x=>x.University))).map(x=>{const j=x.charAt(0).toUpperCase()+x.slice(1).toLowerCase();return e.jsx(le,{onClick:()=>{var n;(n=m.getColumn("University"))==null||n.setFilterValue(x)},children:j},x)}),e.jsx(le,{onClick:()=>{var x;(x=m.getColumn("University"))==null||x.setFilterValue("")},children:"Show All"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Zt,{children:[e.jsx(Xt,{className:"bg-[#89CFF3] border-2 border-blue-500",children:m.getHeaderGroups().map(x=>e.jsx(Ie,{children:x.headers.map(j=>e.jsx(sa,{children:j.isPlaceholder?null:Ts(j.column.columnDef.header,j.getContext())},j.id))},x.id))}),e.jsx(ea,{children:(w=m.getRowModel().rows)!=null&&w.length?m.getRowModel().rows.map((x,j)=>e.jsx(Ie,{"data-state":x.getIsSelected()&&"selected",className:`${j%2===0?"bg-[#c2e5f3] ":"bg-[#CDF5FD]"}`,children:x.getVisibleCells().map(n=>e.jsx(us,{children:Ts(n.column.columnDef.cell,n.getContext())},n.id))},x.id)):e.jsx(Ie,{children:e.jsx(us,{colSpan:Bs.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx("div",{className:"flex items-center justify-end space-x-2 py-4",children:e.jsxs("div",{className:"space-x-2",children:[e.jsx(F,{variant:"outline",size:"sm",onClick:()=>m.previousPage(),disabled:!m.getCanPreviousPage(),children:"Previous"}),e.jsx(F,{variant:"outline",size:"sm",onClick:()=>m.nextPage(),disabled:!m.getCanNextPage(),children:"Next"})]})})]})}const zl=()=>e.jsx(Vl,{}),_l=tr(ar(e.jsxs(Z,{path:"/",element:e.jsx(hr,{}),children:[e.jsx(Z,{path:"signup",element:e.jsx(Bl,{})}),e.jsx(Z,{path:"/login",element:e.jsx(vr,{})}),e.jsx(Z,{path:"/forgotPassword",element:e.jsx(wr,{})}),e.jsx(Z,{path:"/",element:e.jsx(Nr,{}),children:e.jsxs(Z,{path:"/",element:e.jsx(kl,{}),children:[e.jsx(Z,{index:!0,element:e.jsx(El,{})}),e.jsx(Z,{path:"/Chats",element:e.jsx(Ir,{})}),e.jsx(Z,{path:"/Members",element:e.jsx(zl,{})}),e.jsx(Z,{path:"/Files",element:e.jsx(Kr,{})}),e.jsx(Z,{path:"/Profile/:queryUserId",element:e.jsx(Gr,{})})]})})]})));rr.createRoot(document.getElementById("root")).render(e.jsx(lr,{store:$r,children:e.jsx(or,{router:_l})}));
